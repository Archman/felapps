<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>felapps.utils.pltutils &mdash; felapps 1.5.13 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.5.13',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="felapps 1.5.13 documentation" href="../../../index.html" />
    <link rel="up" title="Module code" href="../../index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">felapps 1.5.13 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for felapps.utils.pltutils</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">python modules for plot utilities:</span>
<span class="sd">    ImageViewer: main GUI framework for an universal image viewer</span>

<span class="sd">Author: Tong Zhang</span>
<span class="sd">Created: Feb. 3rd, 2015</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1">#import wxversion</span>
<span class="c1">#wxversion.ensureMinimal(&#39;2.8&#39;)</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">division</span>

<span class="kn">import</span> <span class="nn">wx</span>
<span class="kn">from</span> <span class="nn">wx.lib.agw</span> <span class="k">import</span> <span class="n">floatspin</span> <span class="k">as</span> <span class="n">fs</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.figure</span> <span class="k">import</span> <span class="n">Figure</span>
<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_wxagg</span> <span class="k">import</span> <span class="n">FigureCanvasWxAgg</span>
<span class="kn">from</span> <span class="nn">matplotlib.patches</span> <span class="k">import</span> <span class="n">Rectangle</span>
<span class="kn">import</span> <span class="nn">epics</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">xml.etree.cElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">resutils</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">funutils</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">parseutils</span>


<div class="viewcode-block" id="ImageConfigFile"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageConfigFile">[docs]</a><span class="k">class</span> <span class="nc">ImageConfigFile</span><span class="p">(</span><span class="n">parseutils</span><span class="o">.</span><span class="n">ConfigFile</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">infilename</span><span class="o">=</span><span class="s1">&#39;config.xml&#39;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">parseutils</span><span class="o">.</span><span class="n">ConfigFile</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">infilename</span><span class="o">=</span><span class="n">infilename</span><span class="p">,</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="ImageConfigFile.parseConfigs"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageConfigFile.parseConfigs">[docs]</a>    <span class="k">def</span> <span class="nf">parseConfigs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xmlfile</span><span class="p">)</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">root</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">tree</span>
        <span class="n">namelist_image</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">namelist_control</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">namelist_style</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">namelist_histplot</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">namestring_image</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="s1">&#39;savePath&#39;</span><span class="p">,</span> <span class="s1">&#39;saveImgName&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;saveImgExt&#39;</span><span class="p">,</span> <span class="s1">&#39;saveImgDatName&#39;</span><span class="p">,</span> <span class="s1">&#39;saveImgDatExt&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;saveIntName&#39;</span><span class="p">,</span> <span class="s1">&#39;saveIntExt&#39;</span><span class="p">,</span> <span class="s1">&#39;cmFavor&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;imgIniFunc&#39;</span><span class="p">]</span>
        <span class="n">namestring_control</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">,</span> <span class="s1">&#39;imgsrcPV&#39;</span><span class="p">,</span> <span class="s1">&#39;imgsrcPVlist&#39;</span><span class="p">,</span>
                              <span class="s1">&#39;libcaPath&#39;</span><span class="p">,</span> <span class="s1">&#39;caAddrAuto&#39;</span><span class="p">,</span> <span class="s1">&#39;caAddrList&#39;</span><span class="p">,</span>
                              <span class="s1">&#39;caArrayBytes&#39;</span><span class="p">,</span> <span class="s1">&#39;pixelSize&#39;</span><span class="p">]</span>
        <span class="n">namestring_histplot</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;heightRatio&#39;</span><span class="p">]</span>
        <span class="n">namestring_style</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;backgroundColor&#39;</span><span class="p">,</span> <span class="s1">&#39;fontpointsize&#39;</span><span class="p">,</span> <span class="s1">&#39;fontfamily&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;fontstyle&#39;</span><span class="p">,</span> <span class="s1">&#39;fontweight&#39;</span><span class="p">,</span> <span class="s1">&#39;fontfacename&#39;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">iter</span><span class="p">(</span><span class="s1">&#39;group&#39;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">group</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;Image&#39;</span><span class="p">:</span>
                <span class="n">namelist_image</span> <span class="o">=</span> <span class="p">{</span><span class="n">s</span><span class="p">:</span> <span class="n">group</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;properties&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
                                  <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">namestring_image</span><span class="p">}</span>
            <span class="k">elif</span> <span class="n">group</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;Control&#39;</span><span class="p">:</span>
                <span class="n">namelist_control</span> <span class="o">=</span> <span class="p">{</span><span class="n">s</span><span class="p">:</span> <span class="n">group</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;properties&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
                                    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">namestring_control</span><span class="p">}</span>
            <span class="k">elif</span> <span class="n">group</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;Style&#39;</span><span class="p">:</span>
                <span class="n">namelist_style</span> <span class="o">=</span> <span class="p">{</span><span class="n">s</span><span class="p">:</span> <span class="n">group</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;properties&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
                                  <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">namestring_style</span><span class="p">}</span>
            <span class="k">elif</span> <span class="n">group</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;HistPlot&#39;</span><span class="p">:</span>
                <span class="n">namelist_histplot</span> <span class="o">=</span> <span class="p">{</span><span class="n">s</span><span class="p">:</span> <span class="n">group</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;properties&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
                                     <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">namestring_histplot</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">namelist</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">namelist_image</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">namelist</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">namelist_control</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">namelist</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">namelist_style</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">namelist</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">namelist_histplot</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="ImageViewer"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer">[docs]</a><span class="k">class</span> <span class="nc">ImageViewer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">parent</span><span class="p">,</span>
                 <span class="n">config</span><span class="o">=</span><span class="s1">&#39;config.xml&#39;</span><span class="p">,</span>
                 <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">),</span>
                 <span class="n">appversion</span><span class="o">=</span><span class="s1">&#39;1.0&#39;</span><span class="p">,</span>
                 <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1">#style = wx.DEFAULT_FRAME_STYLE &amp; ~(wx.RESIZE_BORDER | wx.MAXIMIZE_BOX)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">appversion</span> <span class="o">=</span> <span class="n">appversion</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_unis</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="s1">&#39;inferno&#39;</span><span class="p">,</span> <span class="s1">&#39;plasma&#39;</span><span class="p">,</span> <span class="s1">&#39;magma&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_seq1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Blues&#39;</span><span class="p">,</span> <span class="s1">&#39;BuGn&#39;</span><span class="p">,</span> <span class="s1">&#39;BuPu&#39;</span><span class="p">,</span> <span class="s1">&#39;GnBu&#39;</span><span class="p">,</span> <span class="s1">&#39;Greens&#39;</span><span class="p">,</span> <span class="s1">&#39;Greys&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;Oranges&#39;</span><span class="p">,</span> <span class="s1">&#39;OrRd&#39;</span><span class="p">,</span> <span class="s1">&#39;PuBu&#39;</span><span class="p">,</span> <span class="s1">&#39;PuBuGn&#39;</span><span class="p">,</span> <span class="s1">&#39;PuRd&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;Purples&#39;</span><span class="p">,</span> <span class="s1">&#39;RdPu&#39;</span><span class="p">,</span> <span class="s1">&#39;Reds&#39;</span><span class="p">,</span> <span class="s1">&#39;YlGn&#39;</span><span class="p">,</span> <span class="s1">&#39;YlGnBu&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;YlOrBr&#39;</span><span class="p">,</span> <span class="s1">&#39;YlOrRd&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_seq2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;afmhot&#39;</span><span class="p">,</span> <span class="s1">&#39;autumn&#39;</span><span class="p">,</span> <span class="s1">&#39;bone&#39;</span><span class="p">,</span> <span class="s1">&#39;cool&#39;</span><span class="p">,</span> <span class="s1">&#39;copper&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;gist_heat&#39;</span><span class="p">,</span> <span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="s1">&#39;hot&#39;</span><span class="p">,</span> <span class="s1">&#39;pink&#39;</span><span class="p">,</span> <span class="s1">&#39;spring&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;summer&#39;</span><span class="p">,</span> <span class="s1">&#39;winter&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_dive</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;BrBG&#39;</span><span class="p">,</span> <span class="s1">&#39;bwr&#39;</span><span class="p">,</span> <span class="s1">&#39;coolwarm&#39;</span><span class="p">,</span> <span class="s1">&#39;PiYG&#39;</span><span class="p">,</span> <span class="s1">&#39;PRGn&#39;</span><span class="p">,</span> <span class="s1">&#39;PuOr&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;RdBu&#39;</span><span class="p">,</span> <span class="s1">&#39;RdGy&#39;</span><span class="p">,</span> <span class="s1">&#39;RdYlBu&#39;</span><span class="p">,</span> <span class="s1">&#39;RdYlGn&#39;</span><span class="p">,</span> <span class="s1">&#39;Spectral&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;seismic&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_qual</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Accent&#39;</span><span class="p">,</span> <span class="s1">&#39;Dark2&#39;</span><span class="p">,</span> <span class="s1">&#39;Paired&#39;</span><span class="p">,</span> <span class="s1">&#39;Pastel1&#39;</span><span class="p">,</span> <span class="s1">&#39;Pastel2&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;Set1&#39;</span><span class="p">,</span> <span class="s1">&#39;Set2&#39;</span><span class="p">,</span> <span class="s1">&#39;Set3&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_misc</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;gist_earth&#39;</span><span class="p">,</span> <span class="s1">&#39;terrain&#39;</span><span class="p">,</span> <span class="s1">&#39;ocean&#39;</span><span class="p">,</span> <span class="s1">&#39;gist_stern&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;brg&#39;</span><span class="p">,</span> <span class="s1">&#39;CMRmap&#39;</span><span class="p">,</span> <span class="s1">&#39;cubehelix&#39;</span><span class="p">,</span> <span class="s1">&#39;gnuplot&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;gnuplot2&#39;</span><span class="p">,</span> <span class="s1">&#39;gist_ncar&#39;</span><span class="p">,</span> <span class="s1">&#39;nipy_spectral&#39;</span><span class="p">,</span> <span class="s1">&#39;jet&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;rainbow&#39;</span><span class="p">,</span> <span class="s1">&#39;gist_rainbow&#39;</span><span class="p">,</span> <span class="s1">&#39;hsv&#39;</span><span class="p">,</span> <span class="s1">&#39;flag&#39;</span><span class="p">,</span> <span class="s1">&#39;prism&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmlist</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Sequential-NEW&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_unis</span><span class="p">,</span>
                       <span class="s1">&#39;Sequential-I&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_seq1</span><span class="p">,</span>
                       <span class="s1">&#39;Sequential-II&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_seq2</span><span class="p">,</span>
                       <span class="s1">&#39;Diverging&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_dive</span><span class="p">,</span>
                       <span class="s1">&#39;Qualitative&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_qual</span><span class="p">,</span>
                       <span class="s1">&#39;Miscellaneous&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_misc</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rcmflag</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>  <span class="c1"># flag for reverse colormap</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configlist</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># configurations dict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xmlconfig</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># xml config class</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">loadConfig</span><span class="p">(</span><span class="n">configfilename</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
        <span class="c1">#self.printConfig() # just for debug</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_CLOSE</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onExit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_MENU_HIGHLIGHT</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onMenuHL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InitUI</span><span class="p">()</span>

        <span class="c1"># handle environment variables</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setEnvars</span><span class="p">()</span>

        <span class="c1"># initialize curve fitting module</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fit_init</span><span class="p">()</span>

        <span class="c1"># save data settings</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">savedict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">saveTimerLife</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">saveTimerCounter</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">savetimer</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_TIMER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onSaveTimer</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">savetimer</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_fit_init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">fit_model_x</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">FitModels</span><span class="p">()</span>
        <span class="n">fit_model_y</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">FitModels</span><span class="p">()</span>
        <span class="n">fit_model_x</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;leastsq&#39;</span>
        <span class="n">fit_model_y</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;leastsq&#39;</span>
        <span class="c1"># config p0:</span>
        <span class="c1"># 1 auto</span>
        <span class="c1"># 2 manual</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_x</span> <span class="o">=</span> <span class="n">fit_model_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_y</span> <span class="o">=</span> <span class="n">fit_model_y</span>

    <span class="k">def</span> <span class="nf">_fit_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">img_panel_obj</span><span class="p">):</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">xdata</span> <span class="o">=</span> <span class="n">img_panel_obj</span><span class="o">.</span><span class="n">xx</span><span class="p">,</span> <span class="n">img_panel_obj</span><span class="o">.</span><span class="n">histx</span>
        <span class="n">y</span><span class="p">,</span> <span class="n">ydata</span> <span class="o">=</span> <span class="n">img_panel_obj</span><span class="o">.</span><span class="n">yy</span><span class="p">,</span> <span class="n">img_panel_obj</span><span class="o">.</span><span class="n">histy</span>
        <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">xdata</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">xdata</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span>
            <span class="n">y</span> <span class="o">*</span> <span class="n">ydata</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">xdata</span><span class="p">)</span>
        <span class="n">p0_x</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="n">xdata</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span>
                <span class="s1">&#39;x0&#39;</span><span class="p">:</span> <span class="n">x0</span><span class="p">,</span>
                <span class="s1">&#39;xstd&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="n">x0</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">xdata</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">xdata</span><span class="p">))</span><span class="o">**</span><span class="mf">0.5</span><span class="p">,</span>
                <span class="s1">&#39;y0&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
        <span class="n">p0_y</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="n">ydata</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span>
                <span class="s1">&#39;x0&#39;</span><span class="p">:</span> <span class="n">y0</span><span class="p">,</span>
                <span class="s1">&#39;xstd&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">((</span><span class="n">y</span> <span class="o">-</span> <span class="n">y0</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">ydata</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">ydata</span><span class="p">))</span><span class="o">**</span><span class="mf">0.5</span><span class="p">,</span>
                <span class="s1">&#39;y0&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_x</span><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">xdata</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_x</span><span class="o">.</span><span class="n">set_params</span><span class="p">(</span><span class="o">**</span><span class="n">p0_x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_y</span><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">ydata</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_y</span><span class="o">.</span><span class="n">set_params</span><span class="p">(</span><span class="o">**</span><span class="n">p0_y</span><span class="p">)</span>
        <span class="n">res_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_x</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
        <span class="n">res_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_y</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fit_report_tc</span><span class="o">.</span><span class="n">SetDefaultStyle</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">TextAttr</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_report_tc</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="s1">&#39;[profile X]</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_report_tc</span><span class="o">.</span><span class="n">AppendText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_model_x</span><span class="o">.</span><span class="n">fit_report</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_report_tc</span><span class="o">.</span><span class="n">SetDefaultStyle</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">TextAttr</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_report_tc</span><span class="o">.</span><span class="n">AppendText</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">28</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_report_tc</span><span class="o">.</span><span class="n">SetDefaultStyle</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">TextAttr</span><span class="p">(</span><span class="s2">&quot;blue&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_report_tc</span><span class="o">.</span><span class="n">AppendText</span><span class="p">(</span><span class="s1">&#39;[profile Y]</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_report_tc</span><span class="o">.</span><span class="n">AppendText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_model_y</span><span class="o">.</span><span class="n">fit_report</span><span class="p">())</span>

        <span class="c1"># update (x0,y0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos0_val</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="s1">&#39;(</span><span class="si">{x:.2f}</span><span class="s1">,</span><span class="si">{y:.2f}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                            <span class="n">x</span><span class="o">=</span><span class="n">res_x</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;x0&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                            <span class="n">y</span><span class="o">=</span><span class="n">res_y</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;x0&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>

<div class="viewcode-block" id="ImageViewer.setEnvars"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.setEnvars">[docs]</a>    <span class="k">def</span> <span class="nf">setEnvars</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">boolDict</span> <span class="o">=</span> <span class="p">{</span><span class="kc">True</span><span class="p">:</span> <span class="s1">&#39;YES&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">:</span> <span class="s1">&#39;NO&#39;</span><span class="p">}</span>
        <span class="n">envKeys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PYEPICS_LIBCA&#39;</span><span class="p">,</span> 
                   <span class="s1">&#39;EPICS_CA_ADDR_LIST&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;EPICS_CA_AUTO_ADDR_LIST&#39;</span><span class="p">,</span> 
                   <span class="s1">&#39;EPICS_CA_MAX_ARRAY_BYTES&#39;</span><span class="p">]</span>
        <span class="n">envVals</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">libcaPath</span><span class="p">,</span>
                   <span class="bp">self</span><span class="o">.</span><span class="n">caAddrList</span><span class="p">,</span> 
                   <span class="n">boolDict</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">caAddrAuto</span><span class="p">],</span>
                   <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">caArrayBytes</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">envKeys</span><span class="p">,</span> <span class="n">envVals</span><span class="p">):</span>
            <span class="c1"># debug only</span>
            <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span></div>

<div class="viewcode-block" id="ImageViewer.loadConfig"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.loadConfig">[docs]</a>    <span class="k">def</span> <span class="nf">loadConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">configfilename</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xmlconfig</span> <span class="o">=</span> <span class="n">ImageConfigFile</span><span class="p">(</span><span class="n">configfilename</span><span class="p">)</span>
        <span class="n">namelist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xmlconfig</span><span class="o">.</span><span class="n">getConfigs</span><span class="p">()</span>

        <span class="c1"># Image</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imginifunc</span> <span class="o">=</span> <span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;imgIniFunc&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wpx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hpx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">])),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">namelist</span><span class="p">[</span>
            <span class="s1">&#39;height&#39;</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">roixy</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wpx</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hpx</span><span class="p">]</span>
        <span class="n">dirdate</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_path_str_head</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;savePath&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_path_str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_path_str_head</span><span class="p">,</span> <span class="n">dirdate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_img_name_str</span> <span class="o">=</span> <span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;saveImgName&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_img_ext_str</span> <span class="o">=</span> <span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;saveImgExt&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_dat_name_str</span> <span class="o">=</span> <span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;saveImgDatName&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_dat_ext_str</span> <span class="o">=</span> <span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;saveImgDatExt&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_int_name_str</span> <span class="o">=</span> <span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;saveIntName&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_int_ext_str</span> <span class="o">=</span> <span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;saveIntExt&#39;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_favo</span> <span class="o">=</span> <span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;cmFavor&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmlist</span><span class="p">[</span><span class="s1">&#39;Favorites&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_favo</span>

        <span class="c1"># Control</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timer_freq</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timer_msec</span> <span class="o">=</span> <span class="mf">1.</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer_freq</span> <span class="o">*</span> <span class="mi">1000</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgsrcPV</span> <span class="o">=</span> <span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;imgsrcPV&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgsrcPVlist</span> <span class="o">=</span> <span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;imgsrcPVlist&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">libcaPath</span> <span class="o">=</span> <span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;libcaPath&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caAddrAuto</span> <span class="o">=</span> <span class="p">(</span><span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;caAddrAuto&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;True&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caAddrList</span> <span class="o">=</span> <span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;caAddrList&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caArrayBytes</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;caArrayBytes&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pixelSize</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;pixelSize&#39;</span><span class="p">])</span>

        <span class="c1"># Style</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bkgdcolor</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">hex2rgb</span><span class="p">(</span><span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;backgroundColor&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontptsize</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;fontpointsize&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontfamily</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;fontfamily&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontstyle</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;fontstyle&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontweight</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;fontweight&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontfacename</span> <span class="o">=</span> <span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;fontfacename&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Font</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">fontfamily</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">fontstyle</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">fontweight</span><span class="p">,</span>
                            <span class="n">faceName</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontfacename</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_large</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize</span> <span class="o">*</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_big</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize</span> <span class="o">*</span> <span class="mf">1.2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize</span> <span class="o">*</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_small</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_tiny</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span>

        <span class="c1"># HistPlot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">heightRatio</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">namelist</span><span class="p">[</span><span class="s1">&#39;heightRatio&#39;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">configdict</span> <span class="o">=</span> <span class="n">namelist</span></div>

<div class="viewcode-block" id="ImageViewer.printConfig"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.printConfig">[docs]</a>    <span class="k">def</span> <span class="nf">printConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">configdict</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> --- </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span></div>

<div class="viewcode-block" id="ImageViewer.InitUI"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.InitUI">[docs]</a>    <span class="k">def</span> <span class="nf">InitUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createMenubar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createPanel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createStatusbar</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImageViewer.createMenubar"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.createMenubar">[docs]</a>    <span class="k">def</span> <span class="nf">createMenubar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menubar</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">MenuBar</span><span class="p">()</span>

        <span class="c1">## File menu</span>
        <span class="n">fileMenu</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Menu</span><span class="p">()</span>
        <span class="n">openItem</span> <span class="o">=</span> <span class="n">fileMenu</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_OPEN</span><span class="p">,</span> <span class="s1">&#39;&amp;Open file</span><span class="se">\t</span><span class="s1">Ctrl+O&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;Open file to view&#39;</span><span class="p">)</span>
        <span class="n">saveImgItem</span> <span class="o">=</span> <span class="n">fileMenu</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_SAVE</span><span class="p">,</span> <span class="s1">&#39;&amp;Save Image Plot</span><span class="se">\t</span><span class="s1">Ctrl+S&#39;</span><span class="p">,</span>
                                      <span class="s1">&#39;Save figure plotting to file&#39;</span><span class="p">)</span>
        <span class="n">saveDatItem</span> <span class="o">=</span> <span class="n">fileMenu</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="s1">&#39;&amp;Save Image Data</span><span class="se">\t</span><span class="s1">Ctrl+D&#39;</span><span class="p">,</span>
                                      <span class="s1">&#39;Save figure data to file&#39;</span><span class="p">)</span>
        <span class="n">fileMenu</span><span class="o">.</span><span class="n">AppendSeparator</span><span class="p">()</span>
        <span class="n">exitItem</span> <span class="o">=</span> <span class="n">fileMenu</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_EXIT</span><span class="p">,</span> <span class="s1">&#39;E&amp;xit</span><span class="se">\t</span><span class="s1">Ctrl+W&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;Exit application&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_MENU</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onOpen</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">openItem</span><span class="o">.</span><span class="n">GetId</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_MENU</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onSaveImg</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">saveImgItem</span><span class="o">.</span><span class="n">GetId</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_MENU</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onSaveDat</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">saveDatItem</span><span class="o">.</span><span class="n">GetId</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_MENU</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onExit</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">exitItem</span><span class="o">.</span><span class="n">GetId</span><span class="p">())</span>

        <span class="c1">## Configurations menu</span>
        <span class="n">configMenu</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Menu</span><span class="p">()</span>
        <span class="n">loadConfigItem</span> <span class="o">=</span> <span class="n">configMenu</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span>
                                           <span class="s1">&#39;Load from file</span><span class="se">\t</span><span class="s1">Ctrl+Shift+L&#39;</span><span class="p">,</span>
                                           <span class="s1">&#39;Loading configurations from file&#39;</span><span class="p">)</span>
        <span class="n">saveConfigItem</span> <span class="o">=</span> <span class="n">configMenu</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span>
                                           <span class="s1">&#39;Save to file</span><span class="se">\t</span><span class="s1">Ctrl+Shift+S&#39;</span><span class="p">,</span>
                                           <span class="s1">&#39;Saving configurations to file&#39;</span><span class="p">)</span>
        <span class="n">appsConfigItem</span> <span class="o">=</span> <span class="n">configMenu</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span>
                                           <span class="s1">&#39;Preferences</span><span class="se">\t</span><span class="s1">Ctrl+Shift+I&#39;</span><span class="p">,</span>
                                           <span class="s1">&#39;Configurations for application&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_MENU</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onConfigApps</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">appsConfigItem</span><span class="o">.</span><span class="n">GetId</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_MENU</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onConfigLoad</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">loadConfigItem</span><span class="o">.</span><span class="n">GetId</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_MENU</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onConfigSave</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">saveConfigItem</span><span class="o">.</span><span class="n">GetId</span><span class="p">())</span>

        <span class="c1">## Operations menu</span>
        <span class="n">methMenu</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Menu</span><span class="p">()</span>
        <span class="n">showIntItem</span> <span class="o">=</span> <span class="n">methMenu</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span>
            <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="s1">&#39;Show intensity</span><span class="se">\t</span><span class="s1">Ctrl+Shift+V&#39;</span><span class="p">,</span> <span class="s1">&#39;Monitor intensity&#39;</span><span class="p">)</span>
        <span class="n">showXhistItem</span> <span class="o">=</span> <span class="n">methMenu</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span>
                                        <span class="s1">&#39;Show hist-X</span><span class="se">\t</span><span class="s1">Alt+X&#39;</span><span class="p">,</span>
                                        <span class="s1">&#39;Show histogram along X-axis&#39;</span><span class="p">,</span>
                                        <span class="n">kind</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ITEM_CHECK</span><span class="p">)</span>
        <span class="n">showYhistItem</span> <span class="o">=</span> <span class="n">methMenu</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span>
                                        <span class="s1">&#39;Show hist-Y</span><span class="se">\t</span><span class="s1">Alt+Y&#39;</span><span class="p">,</span>
                                        <span class="s1">&#39;Show histogram along Y-axis&#39;</span><span class="p">,</span>
                                        <span class="n">kind</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ITEM_CHECK</span><span class="p">)</span>
        <span class="n">autoSaveItem</span> <span class="o">=</span> <span class="n">methMenu</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="s1">&#39;Auto save</span><span class="se">\t</span><span class="s1">Alt+S&#39;</span><span class="p">,</span>
                                       <span class="s1">&#39;Auto saving data&amp;image&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_MENU</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onShowInt</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">showIntItem</span><span class="o">.</span><span class="n">GetId</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_MENU</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onShowXhist</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">showXhistItem</span><span class="o">.</span><span class="n">GetId</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_MENU</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onShowYhist</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">showYhistItem</span><span class="o">.</span><span class="n">GetId</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_MENU</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onAutoSave</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">autoSaveItem</span><span class="o">.</span><span class="n">GetId</span><span class="p">())</span>

        <span class="c1">## Help menu</span>
        <span class="n">helpMenu</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Menu</span><span class="p">()</span>
        <span class="n">aboutItem</span> <span class="o">=</span> <span class="n">helpMenu</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ABOUT</span><span class="p">,</span> <span class="s1">&#39;&amp;About</span><span class="se">\t</span><span class="s1">F1&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;Show about information&#39;</span><span class="p">)</span>
        <span class="n">debugItem</span> <span class="o">=</span> <span class="n">helpMenu</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="s1">&#39;&amp;Debug</span><span class="se">\t</span><span class="s1">F2&#39;</span><span class="p">,</span> <span class="s1">&#39;Only for debug&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_MENU</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onAbout</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ABOUT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_MENU</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onDebug</span><span class="p">,</span> <span class="n">debugItem</span><span class="p">)</span>

        <span class="c1">## make menu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menubar</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">fileMenu</span><span class="p">,</span> <span class="s1">&#39;&amp;File&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menubar</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">configMenu</span><span class="p">,</span> <span class="s1">&#39;&amp;Configurations&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menubar</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">methMenu</span><span class="p">,</span> <span class="s1">&#39;&amp;Operations&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menubar</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">helpMenu</span><span class="p">,</span> <span class="s1">&#39;&amp;Help&#39;</span><span class="p">)</span>

        <span class="c1">## set menu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetMenuBar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">menubar</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageViewer.onOpen"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onOpen">[docs]</a>    <span class="k">def</span> <span class="nf">onOpen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="ImageViewer.onMenuHL"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onMenuHL">[docs]</a>    <span class="k">def</span> <span class="nf">onMenuHL</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">hltext</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">GetHelpString</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">GetMenuId</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">appinfo</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="n">hltext</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span></div>

<div class="viewcode-block" id="ImageViewer.onSaveImg"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onSaveImg">[docs]</a>    <span class="k">def</span> <span class="nf">onSaveImg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_path_str</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span>
                <span class="s1">&#39;mkdir -p&#39;</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span>
                <span class="n">save_path_str</span><span class="p">)</span>  <span class="c1"># I&#39;ve not found pure python way (simple) to do that yet.</span>
        <span class="n">filelabel</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%H%M%S&#39;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">())</span>
        <span class="n">savetofilename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_path_str</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_img_name_str</span> <span class="o">+</span> <span class="n">filelabel</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_img_ext_str</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">savetofilename</span><span class="p">)</span>
        <span class="n">hintText</span> <span class="o">=</span> <span class="s1">&#39;Image Plotting file: &#39;</span> <span class="o">+</span> <span class="n">savetofilename</span> <span class="o">+</span> <span class="s1">&#39; was saved.&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">appinfo</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="n">hintText</span><span class="p">)</span></div>
        <span class="c1">#self.statusbar.SetStatusText(hintText)</span>

<div class="viewcode-block" id="ImageViewer.onSaveDat"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onSaveDat">[docs]</a>    <span class="k">def</span> <span class="nf">onSaveDat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_path_str</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;mkdir -p&#39;</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_path_str</span><span class="p">)</span>
        <span class="n">filelabel</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%H%M%S&#39;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">())</span>
        <span class="n">savetofilename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_path_str</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_dat_name_str</span> <span class="o">+</span> <span class="n">filelabel</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_dat_ext_str</span>
        <span class="n">saveins</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">SaveData</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">z</span><span class="p">,</span> <span class="n">savetofilename</span><span class="p">,</span>
                                    <span class="bp">self</span><span class="o">.</span><span class="n">save_dat_ext_str</span><span class="p">)</span>
        <span class="n">hintText</span> <span class="o">=</span> <span class="s1">&#39;Image Data file: &#39;</span> <span class="o">+</span> <span class="n">savetofilename</span> <span class="o">+</span> <span class="s1">&#39; was saved.&#39;</span>
        <span class="c1">#self.statusbar.SetStatusText(hintText)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">appinfo</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="n">hintText</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageViewer.onShowInt"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onShowInt">[docs]</a>    <span class="k">def</span> <span class="nf">onShowInt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menuShowInt</span> <span class="o">=</span> <span class="n">ShowIntPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menuShowInt</span><span class="o">.</span><span class="n">SetTitle</span><span class="p">(</span><span class="s1">&#39;Image Intensity Monitor&#39;</span><span class="p">)</span>
        <span class="c1">#self.menuShowInt.SetSize((620,550))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menuShowInt</span><span class="o">.</span><span class="n">Show</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImageViewer.onShowXhist"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onShowXhist">[docs]</a>    <span class="k">def</span> <span class="nf">onShowXhist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">linex</span><span class="o">.</span><span class="n">get_visible</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">linex</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="n">flag</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageViewer.onShowYhist"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onShowYhist">[docs]</a>    <span class="k">def</span> <span class="nf">onShowYhist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">liney</span><span class="o">.</span><span class="n">get_visible</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">liney</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="n">flag</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageViewer.onAutoSave"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onAutoSave">[docs]</a>    <span class="k">def</span> <span class="nf">onAutoSave</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusbarcolor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">appinfo</span><span class="o">.</span><span class="n">GetForegroundColour</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menuAutoSaveFrame</span> <span class="o">=</span> <span class="n">AutoSavePanel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menuAutoSaveFrame</span><span class="o">.</span><span class="n">SetTitle</span><span class="p">(</span><span class="s1">&#39;Automatic Data-Save System&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menuAutoSaveFrame</span><span class="o">.</span><span class="n">Show</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImageViewer.onSaveTimer"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onSaveTimer">[docs]</a>    <span class="k">def</span> <span class="nf">onSaveTimer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">saveTimerCounter</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="sd">&quot;&quot;&quot; for test only</span>
<span class="sd">        fmt=&#39;%Y-%m-%d %H:%M:%S %Z&#39;</span>
<span class="sd">        print self.saveTimerLife, &#39; SAVE at &#39;, time.strftime(fmt, time.localtime())</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># perform saving task</span>
        <span class="c1">#filelabel = time.strftime(&#39;%H%M%S&#39;, time.localtime())</span>
        <span class="n">filelabel</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%H%M%S.</span><span class="si">%f</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">savetodatfilebasename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span>
            <span class="s1">&#39;save_path&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_dat_name_str</span> <span class="o">+</span> <span class="n">filelabel</span>
        <span class="n">savetoimgfilebasename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span>
            <span class="s1">&#39;save_path&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_img_name_str</span> <span class="o">+</span> <span class="n">filelabel</span>

        <span class="n">datatosave</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mypv</span><span class="o">.</span><span class="n">get</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">wpx</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">hpx</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wpx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hpx</span><span class="p">))[</span><span class="bp">self</span><span class="o">.</span><span class="n">roixy</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span><span class="bp">self</span><span class="o">.</span><span class="n">roixy</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">roixy</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
                                 <span class="bp">self</span><span class="o">.</span><span class="n">roixy</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span>
        <span class="c1"># save data</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span><span class="s1">&#39;save_datfmt_hdf5&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># save hdf5 fmt</span>
            <span class="n">saveins</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">SaveData</span><span class="p">(</span>
                <span class="n">datatosave</span><span class="p">,</span> <span class="n">savetodatfilebasename</span> <span class="o">+</span> <span class="s1">&#39;.hdf5&#39;</span><span class="p">,</span> <span class="s1">&#39;.hdf5&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span><span class="s1">&#39;save_datfmt_asc&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># save asc fmt</span>
            <span class="n">saveins</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">SaveData</span><span class="p">(</span><span class="n">datatosave</span><span class="p">,</span>
                                        <span class="n">savetodatfilebasename</span> <span class="o">+</span> <span class="s1">&#39;.asc&#39;</span><span class="p">,</span> <span class="s1">&#39;.asc&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span><span class="s1">&#39;save_datfmt_sdds&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># save sdds fmt</span>
            <span class="n">saveins</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">SaveData</span><span class="p">(</span>
                <span class="n">datatosave</span><span class="p">,</span> <span class="n">savetodatfilebasename</span> <span class="o">+</span> <span class="s1">&#39;.sdds&#39;</span><span class="p">,</span> <span class="s1">&#39;.sdds&#39;</span><span class="p">)</span>

        <span class="c1"># save image</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span><span class="s1">&#39;save_imgfmt_jpg&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># save jpg fmt</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">savetoimgfilebasename</span> <span class="o">+</span> <span class="s1">&#39;.jpg&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span><span class="s1">&#39;save_imgfmt_eps&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># save eps fmt</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">savetoimgfilebasename</span> <span class="o">+</span> <span class="s1">&#39;.eps&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span><span class="s1">&#39;save_imgfmt_png&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># save png fmt</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">savetoimgfilebasename</span> <span class="o">+</span> <span class="s1">&#39;.png&#39;</span><span class="p">)</span>

<span class="c1"># show hint at statusbar</span>
        <span class="n">hintText</span> <span class="o">=</span> <span class="s1">&#39;Data file Record: </span><span class="si">%d</span><span class="s1"> was saved.&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">saveTimerCounter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">appinfo</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="n">hintText</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">appinfo</span><span class="o">.</span><span class="n">SetForegroundColour</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">saveTimerCounter</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">saveTimerLife</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">savetimer</span><span class="o">.</span><span class="n">Stop</span><span class="p">()</span>
            <span class="n">hintText</span> <span class="o">=</span> <span class="s1">&#39;Total </span><span class="si">%d</span><span class="s1"> records are saved to directory </span><span class="si">%s</span><span class="s1">.&#39;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">saveTimerCounter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span><span class="s1">&#39;save_path&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">appinfo</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="n">hintText</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">appinfo</span><span class="o">.</span><span class="n">SetForegroundColour</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statusbarcolor</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageViewer.onConfigApps"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onConfigApps">[docs]</a>    <span class="k">def</span> <span class="nf">onConfigApps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menuAppConfig</span> <span class="o">=</span> <span class="n">AppConfigPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menuAppConfig</span><span class="o">.</span><span class="n">SetTitle</span><span class="p">(</span><span class="s1">&#39;Application Preferences&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menuAppConfig</span><span class="o">.</span><span class="n">Show</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImageViewer.onConfigLoad"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onConfigLoad">[docs]</a>    <span class="k">def</span> <span class="nf">onConfigLoad</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">xmlfile</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">getFileToLoad</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ext</span><span class="o">=</span><span class="s1">&#39;xml&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">loadConfig</span><span class="p">(</span><span class="n">xmlfile</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">onUpdateUIInit</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">onUpdateUI</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">return</span></div>

<div class="viewcode-block" id="ImageViewer.onConfigSave"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onConfigSave">[docs]</a>    <span class="k">def</span> <span class="nf">onConfigSave</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">savetofilename</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">getFileToSave</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ext</span><span class="o">=</span><span class="s1">&#39;xml&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">xmlconfig</span><span class="o">.</span><span class="n">updateConfigs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">configdict</span><span class="p">,</span> <span class="n">savetofilename</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">appinfo</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span>
                <span class="s1">&#39;Present configurations were just saved to &#39;</span> <span class="o">+</span> <span class="n">savetofilename</span> <span class="o">+</span>
                <span class="s1">&#39;.&#39;</span><span class="p">)</span>
            <span class="c1">#self.statusbar.SetStatusText(&#39;Present configurations were just saved to &#39; + savetofilename + &#39;.&#39;)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">return</span></div>

<div class="viewcode-block" id="ImageViewer.onExit"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onExit">[docs]</a>    <span class="k">def</span> <span class="nf">onExit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">dial</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">MessageDialog</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Are you sure to exit this application?&quot;</span><span class="p">,</span>
            <span class="n">caption</span><span class="o">=</span><span class="s2">&quot;Exit Warning&quot;</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">YES_NO</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">NO_DEFAULT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">CENTRE</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ICON_QUESTION</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dial</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_YES</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImageViewer.onAbout"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onAbout">[docs]</a>    <span class="k">def</span> <span class="nf">onAbout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">wx.lib.wordwrap</span> <span class="k">import</span> <span class="n">wordwrap</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">dial</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">MessageDialog</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">u&quot;Cannot show about information, sorry!&quot;</span><span class="p">,</span>
                <span class="n">caption</span><span class="o">=</span><span class="s2">u&quot;Unknown Error&quot;</span><span class="p">,</span>
                <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">OK</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">CANCEL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ICON_ERROR</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">CENTRE</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dial</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_OK</span><span class="p">:</span>
                <span class="n">dial</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">AboutDialogInfo</span><span class="p">()</span>
        <span class="n">info</span><span class="o">.</span><span class="n">Name</span> <span class="o">=</span> <span class="s2">&quot;Image Viewer&quot;</span>
        <span class="n">info</span><span class="o">.</span><span class="n">Version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">appversion</span>
        <span class="n">info</span><span class="o">.</span><span class="n">Copyright</span> <span class="o">=</span> <span class="s2">&quot;(C) 2014-2016 Tong Zhang, SINAP, CAS&quot;</span>
        <span class="n">info</span><span class="o">.</span><span class="n">Description</span> <span class="o">=</span> <span class="n">wordwrap</span><span class="p">(</span>
            <span class="s2">&quot;This application is a general-purposed profile/image viewer and image data postprocessor.</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="s2">&quot;It is designed by Python language, using GUI module of wxPython.&quot;</span><span class="p">,</span>
            <span class="mi">350</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ClientDC</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
        <span class="c1">#info.WebSite = (&quot;http://everyfame.me&quot;, &quot;Image Viewer home page&quot;)</span>
        <span class="n">info</span><span class="o">.</span><span class="n">Developers</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Tong Zhang &lt;zhangtong@sinap.ac.cn&gt;&quot;</span><span class="p">]</span>
        <span class="n">licenseText</span> <span class="o">=</span> <span class="s2">&quot;Image Viewer is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version.</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Image Viewer is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">You should have received a copy of the GNU General Public License along with Image Viewer; if not, write to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA&quot;</span>
        <span class="n">info</span><span class="o">.</span><span class="n">License</span> <span class="o">=</span> <span class="n">wordwrap</span><span class="p">(</span><span class="n">licenseText</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ClientDC</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
        <span class="n">wx</span><span class="o">.</span><span class="n">AboutBox</span><span class="p">(</span><span class="n">info</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageViewer.onDebug"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onDebug">[docs]</a>    <span class="k">def</span> <span class="nf">onDebug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menuDebug</span> <span class="o">=</span> <span class="n">DebugPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menuDebug</span><span class="o">.</span><span class="n">SetTitle</span><span class="p">(</span><span class="s1">&#39;Debug Information&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menuDebug</span><span class="o">.</span><span class="n">SetMinSize</span><span class="p">((</span><span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menuDebug</span><span class="o">.</span><span class="n">Show</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImageViewer.onUpdateUIInit"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onUpdateUIInit">[docs]</a>    <span class="k">def</span> <span class="nf">onUpdateUIInit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imginifunc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">onGetData</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">doPlot</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImageViewer.onUpdateUI"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onUpdateUI">[docs]</a>    <span class="k">def</span> <span class="nf">onUpdateUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">updateFont</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">imgsrc_tc</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgsrcPV</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="o">.</span><span class="n">SetBackgroundColour</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bkgdcolor</span><span class="p">)</span>
        <span class="c1">#self.imgpanel.func = self.imginifunc</span>
        <span class="c1">#self.imgpanel.onGetData()</span>
        <span class="c1">#self.imgpanel.doPlot()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bkgdcolor</span><span class="p">)</span>  <span class="c1"># make color as private var</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">setHratio</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">heightRatio</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span>  <span class="c1"># rewrite repaint func</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgcm</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bkgdcolor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgcm</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImageViewer.updateFont"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.updateFont">[docs]</a>    <span class="k">def</span> <span class="nf">updateFont</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">objs_large</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">title_st</span><span class="p">]</span>
        <span class="n">objs_big</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">timenow_st</span><span class="p">]</span>
        <span class="n">objs_small</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">min_st</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_st</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_value_st</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">max_value_st</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">inten_st</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">inten_val</span><span class="p">,</span> 
                      <span class="bp">self</span><span class="o">.</span><span class="n">pos0_val</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos0_st</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos_val</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos_st</span><span class="p">,</span>
                      <span class="p">]</span>
        <span class="n">objs_normal</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">imgsrc_st</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cm_st</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cr_st</span><span class="p">,</span> 
                       <span class="bp">self</span><span class="o">.</span><span class="n">imgcr_st</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">imgsrc_tc</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">imgcr_min_tc</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">imgcr_max_tc</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rcmchkbox</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_cb</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">cm_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">daqtgl_btn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">roi_btn</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">reset_roi_btn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_st</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_val</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">fit_report_tc</span><span class="p">,</span>
                       <span class="c1">#self.m1_st, self.m2_st, self.m1_pos_st, self.m2_pos_st,</span>
                       <span class="c1">#self.delx_st, self.delx_val_st,</span>
                       <span class="c1">#self.dely_st, self.dely_val_st,</span>
                       <span class="c1">#self.mark_st, self.mark_st1, self.mark_st2, self.pcc_st</span>
                       <span class="p">]</span>
        <span class="n">objs</span> <span class="o">=</span> <span class="n">objs_large</span> <span class="o">+</span> <span class="n">objs_big</span> <span class="o">+</span> <span class="n">objs_small</span> <span class="o">+</span> <span class="n">objs_normal</span>
        <span class="p">[</span><span class="n">iobj</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">)</span> <span class="k">for</span> <span class="n">iobj</span> <span class="ow">in</span> <span class="n">objs</span> <span class="k">if</span> <span class="n">iobj</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_report_tc</span><span class="p">]</span>
        <span class="p">[</span><span class="n">iobj</span><span class="o">.</span><span class="n">setFontSize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_large</span><span class="p">)</span> <span class="k">for</span> <span class="n">iobj</span> <span class="ow">in</span> <span class="n">objs_large</span><span class="p">]</span>
        <span class="p">[</span><span class="n">iobj</span><span class="o">.</span><span class="n">setFontSize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_big</span><span class="p">)</span> <span class="k">for</span> <span class="n">iobj</span> <span class="ow">in</span> <span class="n">objs_big</span><span class="p">]</span>
        <span class="p">[</span><span class="n">iobj</span><span class="o">.</span><span class="n">setFontSize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">)</span> <span class="k">for</span> <span class="n">iobj</span> <span class="ow">in</span> <span class="n">objs_normal</span><span class="p">]</span>
        <span class="p">[</span><span class="n">iobj</span><span class="o">.</span><span class="n">setFontSize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_small</span><span class="p">)</span> <span class="k">for</span> <span class="n">iobj</span> <span class="ow">in</span> <span class="n">objs_small</span><span class="p">]</span></div>

<div class="viewcode-block" id="ImageViewer.createStatusbar"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.createStatusbar">[docs]</a>    <span class="k">def</span> <span class="nf">createStatusbar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        self.statusbar = self.CreateStatusBar(2)</span>
<span class="sd">        self.statusbar.SetStatusWidths([-4, -1])</span>
<span class="sd">        self.statusbar.SetStatusText(u&#39;ImageViewer powered by Python&#39; ,0)</span>
<span class="sd">        versionfield =  15*&#39; &#39; + time.strftime(&#39;%Y-%m-%d&#39;, time.localtime()) + &#39; &#39; + &#39;(Version: &#39; + self.appversion + &#39;)&#39;</span>
<span class="sd">        self.statusbar.SetStatusText(versionfield, 1)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">ESB</span><span class="o">.</span><span class="n">EnhancedStatusBar</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">SetFieldsCount</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetStatusBar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">SetStatusWidths</span><span class="p">([</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">appinfo</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="p">,</span>
            <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ImageViewer powered by Python&#39;</span><span class="p">)</span>
        <span class="n">versionfield</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="p">,</span>
            <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">())</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span>
            <span class="s1">&#39; (Version: &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">appversion</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">AddWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">appinfo</span><span class="p">,</span>
                                 <span class="n">funutils</span><span class="o">.</span><span class="n">ESB</span><span class="o">.</span><span class="n">ESB_ALIGN_LEFT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">AddWidget</span><span class="p">(</span><span class="n">versionfield</span><span class="p">,</span> <span class="n">funutils</span><span class="o">.</span><span class="n">ESB</span><span class="o">.</span><span class="n">ESB_ALIGN_RIGHT</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageViewer.createPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.createPanel">[docs]</a>    <span class="k">def</span> <span class="nf">createPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">panel</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="o">.</span><span class="n">SetBackgroundColour</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bkgdcolor</span><span class="p">)</span>

        <span class="n">vbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="c1">## title and horizontal line</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                              <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Image Viewer&#39;</span><span class="p">,</span>
                                              <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span><span class="p">,</span>
                                              <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                              <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_large</span><span class="p">,</span>
                                              <span class="n">fontweight</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span><span class="p">,</span>
                                              <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
        <span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title_st</span><span class="p">,</span>
                 <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span><span class="p">,</span>
                 <span class="n">border</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">hline</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticLine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LI_HORIZONTAL</span><span class="p">)</span>
        <span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">hline</span><span class="p">,</span>
                 <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span>
                 <span class="n">border</span><span class="o">=</span><span class="mi">28</span><span class="p">)</span>

        <span class="c1">## hbox to put left and right panels</span>
        <span class="n">hbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>

        <span class="c1">## left panel</span>
        <span class="n">vboxleft</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="c1">## StaticText for time indication</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timenow_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S %Z&#39;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">()),</span>
            <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
            <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_big</span><span class="p">,</span>
            <span class="n">fontweight</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span><span class="p">,</span>
            <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span> <span class="o">=</span> <span class="n">ImagePanel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                   <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
                                   <span class="n">dpi</span><span class="o">=</span><span class="mi">75</span><span class="p">,</span>
                                   <span class="n">bgcolor</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bkgdcolor</span><span class="p">,</span>
                                   <span class="n">heightratio</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">heightRatio</span><span class="p">,</span>
                                   <span class="n">func</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imginifunc</span><span class="p">)</span>

        <span class="n">vboxleft</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">timenow_st</span><span class="p">,</span>
                     <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                     <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span>
                     <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">vboxleft</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="p">,</span>
                     <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                     <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span>
                     <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span>
                     <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">hbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">vboxleft</span><span class="p">,</span> <span class="n">proportion</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

        <span class="c1">## separation line</span>
        <span class="n">vline</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticLine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LI_VERTICAL</span><span class="p">)</span>
        <span class="n">hbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">vline</span><span class="p">,</span>
                 <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span>
                 <span class="n">border</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

        <span class="c1">## right panel</span>
        <span class="n">vboxright</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">imgsrc_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                               <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Image Source:&#39;</span><span class="p">,</span>
                                               <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">,</span>
                                               <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                               <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">,</span>
                                               <span class="n">fontweight</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span><span class="p">,</span>
                                               <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
        <span class="c1">## define pv value here!</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgsrc_tc</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyTextCtrl</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                             <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imgsrcPV</span><span class="p">,</span>
                                             <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_PROCESS_ENTER</span><span class="p">,</span>
                                             <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                             <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">)</span>

        <span class="c1">## add/remove pv from imgsrcPVlist</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addpvbtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BitmapButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                        <span class="n">bitmap</span><span class="o">=</span><span class="n">resutils</span><span class="o">.</span><span class="n">addicon</span><span class="o">.</span><span class="n">GetBitmap</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rmpvbtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BitmapButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                       <span class="n">bitmap</span><span class="o">=</span><span class="n">resutils</span><span class="o">.</span><span class="n">delicon</span><span class="o">.</span><span class="n">GetBitmap</span><span class="p">())</span>

        <span class="n">pvbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">pvbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgsrc_tc</span><span class="p">,</span>
                  <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                  <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span>
                  <span class="n">border</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
        <span class="n">pvbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">addpvbtn</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="n">pvbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rmpvbtn</span><span class="p">,</span>
                  <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span>
                  <span class="n">border</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

        <span class="c1">## color map</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cm_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                           <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Color Map:&#39;</span><span class="p">,</span>
                                           <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">,</span>
                                           <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                           <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">,</span>
                                           <span class="n">fontweight</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span><span class="p">,</span>
                                           <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
        <span class="c1">## combobox for color maps</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_cb</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyComboBox</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s1">&#39;Favorites&#39;</span><span class="p">,</span>
            <span class="n">choices</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmlist</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
            <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">CB_READONLY</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
            <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">,</span>
            <span class="n">fontweight</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span><span class="p">,</span>
            <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
        <span class="c1">## list one of classified color map</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cm_cb</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyComboBox</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cmlist</span><span class="p">[</span><span class="s1">&#39;Favorites&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
            <span class="n">choices</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cmlist</span><span class="p">[</span><span class="s1">&#39;Favorites&#39;</span><span class="p">],</span> <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">CB_READONLY</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">,</span>
            <span class="n">fontweight</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span><span class="p">,</span> <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
        <span class="c1">## book and unbook btn</span>
        <span class="c1">#self.bookbtn   = wx.BitmapButton(self.panel, bitmap = wx.BitmapFromImage(wx.Image(&#39;add.png&#39;)))</span>
        <span class="c1">#self.unbookbtn = wx.BitmapButton(self.panel, bitmap = wx.BitmapFromImage(wx.Image(&#39;remove.png&#39;)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bookbtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BitmapButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                       <span class="n">bitmap</span><span class="o">=</span><span class="n">resutils</span><span class="o">.</span><span class="n">addicon</span><span class="o">.</span><span class="n">GetBitmap</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unbookbtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BitmapButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                         <span class="n">bitmap</span><span class="o">=</span><span class="n">resutils</span><span class="o">.</span><span class="n">delicon</span><span class="o">.</span><span class="n">GetBitmap</span><span class="p">())</span>
        <span class="c1">## color range box</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cr_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                           <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Color Range:&#39;</span><span class="p">,</span>
                                           <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">,</span>
                                           <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                           <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">,</span>
                                           <span class="n">fontweight</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span><span class="p">,</span>
                                           <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                            <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;min:&#39;</span><span class="p">,</span>
                                            <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">,</span>
                                            <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                            <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_small</span><span class="p">,</span>
                                            <span class="n">fontweight</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span><span class="p">,</span>
                                            <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                            <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;max:&#39;</span><span class="p">,</span>
                                            <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">,</span>
                                            <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                            <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_small</span><span class="p">,</span>
                                            <span class="n">fontweight</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span><span class="p">,</span>
                                            <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
        <span class="c1">### get the cmin and cmax from imgpanel object</span>
        <span class="n">cmin_now</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">cmin</span>
        <span class="n">cmax_now</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">cmax</span>
        <span class="c1">### initial values for min&amp;max sliders</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_value_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.1f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cmin_now</span><span class="p">)),</span>
            <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
            <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_small</span><span class="p">,</span>
            <span class="n">fontweight</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span><span class="p">,</span>
            <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_value_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.1f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cmax_now</span><span class="p">)),</span>
            <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span><span class="p">,</span>
            <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_small</span><span class="p">,</span>
            <span class="n">fontweight</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span><span class="p">,</span>
            <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_slider</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                               <span class="n">value</span><span class="o">=</span><span class="n">cmin_now</span><span class="p">,</span>
                                               <span class="n">minValue</span><span class="o">=</span><span class="n">cmin_now</span><span class="p">,</span>
                                               <span class="n">maxValue</span><span class="o">=</span><span class="n">cmax_now</span><span class="p">,</span>
                                               <span class="n">increment</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_slider</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                               <span class="n">value</span><span class="o">=</span><span class="n">cmax_now</span><span class="p">,</span>
                                               <span class="n">minValue</span><span class="o">=</span><span class="n">cmin_now</span><span class="p">,</span>
                                               <span class="n">maxValue</span><span class="o">=</span><span class="n">cmax_now</span><span class="p">,</span>
                                               <span class="n">increment</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>

        <span class="c1">## colormap line: st + combox for cm categories</span>
        <span class="n">cmstbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">cmstbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cm_st</span><span class="p">,</span>
                    <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span>
                    <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">cmstbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmlist_cb</span><span class="p">,</span> <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span><span class="p">)</span>

        <span class="c1">## selected colormap + add/remove to/from bookmarks btn</span>
        <span class="n">cbbookbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">cbbookbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cm_cb</span><span class="p">,</span>
                      <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
        <span class="n">cbbookbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bookbtn</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="n">cbbookbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">unbookbtn</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

        <span class="c1">## show the selected colormap image</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgcm</span> <span class="o">=</span> <span class="n">ImageColorMap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                   <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">),</span>
                                   <span class="n">dpi</span><span class="o">=</span><span class="mi">75</span><span class="p">,</span>
                                   <span class="n">bgcolor</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bkgdcolor</span><span class="p">)</span>

        <span class="c1">## checkbox for reverse colormap</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rcmchkbox</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyCheckBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                             <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Reverse Colormap&#39;</span><span class="p">,</span>
                                             <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                             <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">)</span>

        <span class="c1">## colorrange box</span>
        <span class="n">crbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">FlexGridSizer</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">crbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">min_st</span><span class="p">,</span>
                  <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                  <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="n">crbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">min_slider</span><span class="p">,</span>
                  <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                  <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="n">crbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">min_value_st</span><span class="p">,</span> <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span><span class="p">)</span>
        <span class="n">crbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_st</span><span class="p">,</span>
                  <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                  <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="n">crbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_slider</span><span class="p">,</span>
                  <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                  <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="n">crbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_value_st</span><span class="p">,</span> <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span><span class="p">)</span>
        <span class="n">crbox</span><span class="o">.</span><span class="n">AddGrowableCol</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1">##</span>
        <span class="n">vboxright</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgsrc_st</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">vboxright</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">pvbox</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="c1">##</span>
        <span class="n">vboxright</span><span class="o">.</span><span class="n">Add</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">25</span><span class="p">))</span>
        <span class="n">vboxright</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">cmstbox</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span><span class="p">)</span>
        <span class="n">vboxright</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">cbbookbox</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ## put rcmchkbox and imgcm into hbox3</span>
<span class="sd">        hbox3 = wx.BoxSizer(wx.HORIZONTAL)</span>
<span class="sd">        hbox3.Add(self.imgcm, flag = wx.ALIGN_LEFT)</span>
<span class="sd">        hbox3.Add(self.rcmchkbox, flag = wx.ALIGN_CENTER_VERTICAL | wx.ALIGN_RIGHT | wx.LEFT, border = 5)</span>
<span class="sd">        vboxright.Add(hbox3, flag = wx.ALIGN_CENTER_VERTICAL | wx.ALIGN_LEFT | wx.EXPAND | wx.TOP, border = 10)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">vboxright</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rcmchkbox</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">vboxright</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgcm</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="c1">##</span>
        <span class="n">vboxright</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cr_st</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">vboxright</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">crbox</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="c1">## for debug: add a statictext and button to vboxright sizer 2015.Feb.11</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inten_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                              <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Intensity:&#39;</span><span class="p">,</span>
                                              <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                              <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_small</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inten_val</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                               <span class="n">label</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">,</span>
                                               <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                               <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_small</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos0_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> 
                                             <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;(x</span><span class="se">\N{SUBSCRIPT ZERO}</span><span class="s1">,y</span><span class="se">\N{SUBSCRIPT ZERO}</span><span class="s1">):&#39;</span><span class="p">,</span>
                                             <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                             <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_small</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos0_val</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                              <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
                                              <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                              <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_small</span><span class="p">)</span>
        <span class="n">hbox_int</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">hbox_int</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inten_st</span><span class="p">,</span>
                     <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                     <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="n">hbox_int</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inten_val</span><span class="p">,</span>
                     <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                     <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span>
                     <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">hbox_int</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos0_st</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="n">hbox_int</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos0_val</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span><span class="o">|</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

        <span class="c1">## add color range for imgsrc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgcr_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                              <span class="n">label</span><span class="o">=</span><span class="s1">&#39;CR of Image:&#39;</span><span class="p">,</span>
                                              <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                              <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgcr_min_tc</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyTextCtrl</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
            <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgcr_max_tc</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyTextCtrl</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s1">&#39;200&#39;</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
            <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">)</span>
        <span class="n">hbox_imgcr</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">hbox_imgcr</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgcr_st</span><span class="p">,</span>
                       <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                       <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="n">hbox_imgcr</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgcr_min_tc</span><span class="p">,</span>
                       <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                       <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span>
                       <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">hbox_imgcr</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgcr_max_tc</span><span class="p">,</span>
                       <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                       <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span><span class="p">)</span>
        <span class="c1"># image color range</span>
        <span class="n">vboxright</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">hbox_imgcr</span><span class="p">,</span>
                      <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="c1">### information display from image</span>
        <span class="c1">## mouse position tracker</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                            <span class="n">label</span><span class="o">=</span><span class="s1">&#39;(x, y) pos:&#39;</span><span class="p">,</span>
                                            <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                            <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_small</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_val</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                             <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
                                             <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                             <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_small</span><span class="p">)</span>
        <span class="n">hbox_pos</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">hbox_pos</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_st</span><span class="p">,</span>
                     <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                     <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="n">hbox_pos</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_val</span><span class="p">,</span>
                     <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                     <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span>
                     <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">roi_btn</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                         <span class="n">label</span><span class="o">=</span><span class="s1">&#39;SetROI&#39;</span><span class="p">,</span>
                                         <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                         <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">,</span>
                                         <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">105</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset_roi_btn</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                               <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ResetROI&#39;</span><span class="p">,</span>
                                               <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                               <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">,</span>
                                               <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">105</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">daqtgl_btn</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                            <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;START&#39;</span><span class="p">,</span>
                                            <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                            <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">,</span>
                                            <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">105</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">daqtgl_btn</span><span class="o">.</span><span class="n">SetForegroundColour</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">daqtgl_btn</span><span class="o">.</span><span class="n">SetBackgroundColour</span><span class="p">(</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>

        <span class="c1"># pos marker hbox</span>

        <span class="n">hbox_ctrl_b</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span> <span class="p">)</span>
                        
        <span class="bp">self</span><span class="o">.</span><span class="n">mark_st</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="s2">u&quot;Pick M&quot;</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultPosition</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultSize</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mark_st1</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="s2">u&quot;#1:&quot;</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultPosition</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultSize</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mark_st2</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="s2">u&quot;#2:&quot;</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultPosition</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultSize</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mark_st</span><span class="o">.</span><span class="n">Wrap</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mkc1_btn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BitmapButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">NullBitmap</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultPosition</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultSize</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">BU_AUTODRAW</span><span class="p">)</span>
        <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span>
        <span class="n">k_bmp</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">EmptyBitmap</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
        <span class="n">k_img</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ImageFromBitmap</span><span class="p">(</span><span class="n">k_bmp</span><span class="p">)</span>
        <span class="n">k_img</span><span class="o">.</span><span class="n">SetRGBRect</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mkc1_btn</span><span class="o">.</span><span class="n">SetBitmap</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">BitmapFromImage</span><span class="p">(</span><span class="n">k_img</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mkc2_btn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BitmapButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">NullBitmap</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultPosition</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultSize</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">BU_AUTODRAW</span><span class="p">)</span>
        <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span>
        <span class="n">k_bmp</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">EmptyBitmap</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
        <span class="n">k_img</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ImageFromBitmap</span><span class="p">(</span><span class="n">k_bmp</span><span class="p">)</span>
        <span class="n">k_img</span><span class="o">.</span><span class="n">SetRGBRect</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="mi">240</span><span class="p">,</span> <span class="mi">230</span><span class="p">,</span> <span class="mi">140</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mkc2_btn</span><span class="o">.</span><span class="n">SetBitmap</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">BitmapFromImage</span><span class="p">(</span><span class="n">k_img</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pcc_st</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="s2">u&quot;MColor&quot;</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultPosition</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultSize</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pcc_btn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BitmapButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">NullBitmap</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultPosition</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultSize</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">BU_AUTODRAW</span><span class="p">)</span>
        <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span>
        <span class="n">k_bmp</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">EmptyBitmap</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
        <span class="n">k_img</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ImageFromBitmap</span><span class="p">(</span><span class="n">k_bmp</span><span class="p">)</span>
        <span class="n">k_img</span><span class="o">.</span><span class="n">SetRGBRect</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pcc_btn</span><span class="o">.</span><span class="n">SetBitmap</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">BitmapFromImage</span><span class="p">(</span><span class="n">k_img</span><span class="p">))</span>

        <span class="c1"># markers info box</span>
        <span class="n">fgSizer_info</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">FlexGridSizer</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="n">fgSizer_info</span><span class="o">.</span><span class="n">AddGrowableCol</span><span class="p">(</span> <span class="mi">1</span> <span class="p">)</span>
        <span class="n">fgSizer_info</span><span class="o">.</span><span class="n">AddGrowableCol</span><span class="p">(</span> <span class="mi">3</span> <span class="p">)</span>
        <span class="n">fgSizer_info</span><span class="o">.</span><span class="n">SetFlexibleDirection</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTH</span> <span class="p">)</span>
        <span class="n">fgSizer_info</span><span class="o">.</span><span class="n">SetNonFlexibleGrowMode</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">FLEX_GROWMODE_SPECIFIED</span> <span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">m1_st</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="s2">u&quot;M1:&quot;</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultPosition</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultSize</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m1_st</span><span class="o">.</span><span class="n">Wrap</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m1_st</span><span class="o">.</span><span class="n">SetFont</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">Font</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">NORMAL_FONT</span><span class="o">.</span><span class="n">GetPointSize</span><span class="p">(),</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Monospace&quot;</span> <span class="p">)</span> <span class="p">)</span>
        
        <span class="n">fgSizer_info</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">m1_st</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="o">|</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span> <span class="mi">5</span> <span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">m1_pos_st</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EmptyString</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultPosition</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultSize</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m1_pos_st</span><span class="o">.</span><span class="n">Wrap</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m1_pos_st</span><span class="o">.</span><span class="n">SetFont</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">Font</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">SMALL_FONT</span><span class="o">.</span><span class="n">GetPointSize</span><span class="p">(),</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Monospace&quot;</span> <span class="p">)</span> <span class="p">)</span>
        
        <span class="n">fgSizer_info</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">m1_pos_st</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="o">|</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span> <span class="mi">5</span> <span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">delx_st</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="s2">u&quot;</span><span class="se">\N{GREEK CAPITAL LETTER DELTA}</span><span class="s2">x:&quot;</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultPosition</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultSize</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delx_st</span><span class="o">.</span><span class="n">Wrap</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delx_st</span><span class="o">.</span><span class="n">SetFont</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">Font</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">NORMAL_FONT</span><span class="o">.</span><span class="n">GetPointSize</span><span class="p">(),</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Monospace&quot;</span> <span class="p">)</span> <span class="p">)</span>
        
        <span class="n">fgSizer_info</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">delx_st</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="o">|</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span> <span class="mi">5</span> <span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">delx_val_st</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EmptyString</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultPosition</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultSize</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delx_val_st</span><span class="o">.</span><span class="n">Wrap</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delx_val_st</span><span class="o">.</span><span class="n">SetFont</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">Font</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">SMALL_FONT</span><span class="o">.</span><span class="n">GetPointSize</span><span class="p">(),</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Monospace&quot;</span> <span class="p">)</span> <span class="p">)</span>
        
        <span class="n">fgSizer_info</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">delx_val_st</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="o">|</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span> <span class="mi">5</span> <span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">m2_st</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="s2">u&quot;M2:&quot;</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultPosition</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultSize</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m2_st</span><span class="o">.</span><span class="n">Wrap</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m2_st</span><span class="o">.</span><span class="n">SetFont</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">Font</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">NORMAL_FONT</span><span class="o">.</span><span class="n">GetPointSize</span><span class="p">(),</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Monospace&quot;</span> <span class="p">)</span> <span class="p">)</span>
        
        <span class="n">fgSizer_info</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">m2_st</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="o">|</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span> <span class="mi">5</span> <span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">m2_pos_st</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EmptyString</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultPosition</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultSize</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m2_pos_st</span><span class="o">.</span><span class="n">Wrap</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m2_pos_st</span><span class="o">.</span><span class="n">SetFont</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">Font</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">SMALL_FONT</span><span class="o">.</span><span class="n">GetPointSize</span><span class="p">(),</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Monospace&quot;</span> <span class="p">)</span> <span class="p">)</span>
        
        <span class="n">fgSizer_info</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">m2_pos_st</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="o">|</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span> <span class="mi">5</span> <span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dely_st</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="s2">u&quot;</span><span class="se">\N{GREEK CAPITAL LETTER DELTA}</span><span class="s2">y:&quot;</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultPosition</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultSize</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dely_st</span><span class="o">.</span><span class="n">Wrap</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dely_st</span><span class="o">.</span><span class="n">SetFont</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">Font</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">NORMAL_FONT</span><span class="o">.</span><span class="n">GetPointSize</span><span class="p">(),</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Monospace&quot;</span> <span class="p">)</span> <span class="p">)</span>
        
        <span class="n">fgSizer_info</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">dely_st</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="o">|</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span> <span class="mi">5</span> <span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dely_val_st</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EmptyString</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultPosition</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">DefaultSize</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dely_val_st</span><span class="o">.</span><span class="n">Wrap</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dely_val_st</span><span class="o">.</span><span class="n">SetFont</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">Font</span><span class="p">(</span> <span class="n">wx</span><span class="o">.</span><span class="n">SMALL_FONT</span><span class="o">.</span><span class="n">GetPointSize</span><span class="p">(),</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Monospace&quot;</span> <span class="p">)</span> <span class="p">)</span>
        
        <span class="n">fgSizer_info</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">dely_val_st</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="o">|</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span> <span class="mi">5</span> <span class="p">)</span>

        <span class="c1">#</span>
        <span class="n">hbox_ctrl_b</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">mark_st</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">hbox_ctrl_b</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">mark_st1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="mi">2</span> <span class="p">)</span>
        <span class="n">hbox_ctrl_b</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">mkc1_btn</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="mi">5</span> <span class="p">)</span>
        <span class="n">hbox_ctrl_b</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">mark_st2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="mi">2</span> <span class="p">)</span>
        <span class="n">hbox_ctrl_b</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">mkc2_btn</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="mi">5</span> <span class="p">)</span>
        <span class="n">hbox_ctrl_b</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">pcc_st</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="mi">2</span> <span class="p">)</span>
        <span class="n">hbox_ctrl_b</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">pcc_btn</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="mi">5</span> <span class="p">)</span>

        <span class="n">hbox_ctrl</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">hbox_ctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">roi_btn</span><span class="p">,</span>       <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="n">hbox_ctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reset_roi_btn</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="n">hbox_ctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">daqtgl_btn</span><span class="p">,</span>    <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

        <span class="n">vbox_ctrl</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="n">vbox_ctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">fgSizer_info</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span><span class="p">)</span>
        <span class="n">vbox_ctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">hbox_ctrl_b</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="c1">#, wx.EXPAND | wx.ALIGN_LEFT)</span>
        <span class="n">vbox_ctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">hbox_ctrl</span><span class="p">,</span>   <span class="mi">0</span><span class="p">)</span><span class="c1">#, wx.ALIGN_RIGHT)</span>

        <span class="c1"># curve fitting output box region</span>
        <span class="n">sbox_fit</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">createwxStaticBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                              <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Curve Fitting&quot;</span><span class="p">,</span>
                                              <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">,</span>
                                              <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
                                              <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sbox_fit</span> <span class="o">=</span> <span class="n">sbox_fit</span>
        <span class="n">sbsizer_fit</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticBoxSizer</span><span class="p">(</span><span class="n">sbox_fit</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="n">fit_model_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                             <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Fitting Model:&#39;</span><span class="p">,</span>
                                             <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                             <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">,</span>
                                             <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="n">fit_model_val</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                              <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Gaussian&quot;</span><span class="p">,</span>
                                              <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                              <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">,</span>
                                              <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span><span class="p">)</span>
        <span class="n">fit_model_popup_btn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BitmapButton</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">bitmap</span><span class="o">=</span><span class="n">resutils</span><span class="o">.</span><span class="n">popicon</span><span class="o">.</span><span class="n">GetBitmap</span><span class="p">())</span>
        <span class="c1">#bitmap=wx.ArtProvider.GetBitmap(wx.ART_COPY, wx.ART_OTHER))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_popup_btn</span> <span class="o">=</span> <span class="n">fit_model_popup_btn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_st</span> <span class="o">=</span> <span class="n">fit_model_st</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_val</span> <span class="o">=</span> <span class="n">fit_model_val</span>
        <span class="c1"># add fit config page to configurations panel</span>
        <span class="n">fit_vbox_m</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="n">fit_hbox_u</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">fit_vbox_d</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="n">tcfont</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Font</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">,</span>
                         <span class="n">wx</span><span class="o">.</span><span class="n">FONTFAMILY_MODERN</span><span class="p">,</span>
                         <span class="n">wx</span><span class="o">.</span><span class="n">FONTSTYLE_NORMAL</span><span class="p">,</span>
                         <span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span><span class="p">,</span>
                         <span class="n">faceName</span><span class="o">=</span><span class="s2">&quot;Monospace&quot;</span><span class="p">)</span>
        <span class="n">fit_report_tc</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyTextCtrl</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                            <span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
                                            <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_READONLY</span> <span class="o">|</span>
                                            <span class="n">wx</span><span class="o">.</span><span class="n">TE_MULTILINE</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">HSCROLL</span><span class="p">,</span>
                                            <span class="n">font</span><span class="o">=</span><span class="n">tcfont</span><span class="p">,</span>
                                            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_report_tc</span> <span class="o">=</span> <span class="n">fit_report_tc</span>

        <span class="n">fit_hbox_u</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">fit_model_st</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="n">fit_hbox_u</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">fit_model_val</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span>
                       <span class="mi">10</span><span class="p">)</span>
        <span class="n">fit_hbox_u</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">fit_model_popup_btn</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span>
                       <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

        <span class="n">fit_vbox_d</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">fit_report_tc</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">fit_vbox_m</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">fit_hbox_u</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span><span class="p">)</span>
        <span class="n">fit_vbox_m</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">fit_vbox_d</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span><span class="p">)</span>

        <span class="n">sbsizer_fit</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">fit_vbox_m</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1">## layout boxes</span>
        <span class="c1"># hline</span>
        <span class="n">vboxright</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">StaticLine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="c1"># image intensity</span>
        <span class="n">vboxright</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">hbox_int</span><span class="p">,</span>
                      <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="c1"># xypos</span>
        <span class="n">vboxright</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">hbox_pos</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="c1"># fitting info</span>
        <span class="n">vboxright</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">sbsizer_fit</span><span class="p">,</span>
                      <span class="mi">1</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1"># control box, roi, DAQ start button, pos marker picker</span>
        <span class="n">vboxright</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">vbox_ctrl</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="c1">##</span>
        <span class="n">hbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">vboxright</span><span class="p">,</span>
                 <span class="n">proportion</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                 <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span>
                 <span class="n">border</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

        <span class="c1">## set sizer</span>
        <span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">hbox</span><span class="p">,</span> <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="o">.</span><span class="n">SetSizer</span><span class="p">(</span><span class="n">vbox</span><span class="p">)</span>
        <span class="n">osizer</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">osizer</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetSizerAndFit</span><span class="p">(</span><span class="n">osizer</span><span class="p">)</span>

        <span class="c1">### event bindings</span>

        <span class="c1">## pos markers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onPickMK1c</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mkc1_btn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onPickMK2c</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mkc2_btn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onPickPcc</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">pcc_btn</span><span class="p">)</span>

        <span class="c1">## fit model detail popup</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onFitPopup</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_popup_btn</span><span class="p">)</span>

        <span class="c1">## ROI callback</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onChooseROI</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">roi_btn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onResetROI</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">reset_roi_btn</span><span class="p">)</span>

        <span class="c1">## add input pv namestring to imgsrcPVlist or not</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onAddPV</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">addpvbtn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onRmPV</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rmpvbtn</span><span class="p">)</span>

        <span class="c1">## colormap categories</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_COMBOBOX</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onSetCmclass</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_cb</span><span class="p">)</span>

        <span class="c1">## color map value from specific category</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_COMBOBOX</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onSetColormap</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cm_cb</span><span class="p">)</span>

        <span class="c1">## add selected colormap to favorites or not</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onBookmark</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bookbtn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onUnBookmark</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">unbookbtn</span><span class="p">)</span>

        <span class="c1">## color range min and max sliders</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_SCROLL</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onSetColorRange</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_slider</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_SCROLL</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onSetColorRange</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_slider</span><span class="p">)</span>

        <span class="c1">## when reverse color map checked/unchecked</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_CHECKBOX</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onCheckRCM</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rcmchkbox</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cm_cb</span><span class="p">)</span>

        <span class="c1">## bind self.imgsrc_tc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_TEXT_ENTER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onSetImgSrc</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">imgsrc_tc</span><span class="p">)</span>

        <span class="c1">## timer for update image</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_TIMER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onUpdate</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onDAQbtn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">daqtgl_btn</span><span class="p">)</span>

        <span class="c1">## another timer for showing time now</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timernow</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_TIMER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onTickTime</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">timernow</span><span class="p">)</span>

        <span class="c1">## start timernow (clock)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timernow</span><span class="o">.</span><span class="n">Start</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageViewer.onPickMK1c"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onPickMK1c">[docs]</a>    <span class="k">def</span> <span class="nf">onPickMK1c</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">pick_color</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">color</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">color</span><span class="o">.</span><span class="n">GetAsString</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">C2S_HTML_SYNTAX</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">set_mkc1</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
            <span class="n">funutils</span><span class="o">.</span><span class="n">set_staticbmp_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mkc1_btn</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">marker_pos1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">marker_pos2</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">set_markflags</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">marker_pos1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">marker_pos2</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageViewer.onPickMK2c"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onPickMK2c">[docs]</a>    <span class="k">def</span> <span class="nf">onPickMK2c</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">pick_color</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">color</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">color</span><span class="o">.</span><span class="n">GetAsString</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">C2S_HTML_SYNTAX</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">set_mkc2</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
            <span class="n">funutils</span><span class="o">.</span><span class="n">set_staticbmp_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mkc2_btn</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">marker_pos1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">marker_pos2</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">set_markflags</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">marker_pos1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">marker_pos2</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageViewer.onPickPcc"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onPickPcc">[docs]</a>    <span class="k">def</span> <span class="nf">onPickPcc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">pick_color</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">color</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">color</span><span class="o">.</span><span class="n">GetAsString</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">C2S_HTML_SYNTAX</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">set_pcc</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
            <span class="n">funutils</span><span class="o">.</span><span class="n">set_staticbmp_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pcc_btn</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageViewer.onFitPopup"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onFitPopup">[docs]</a>    <span class="k">def</span> <span class="nf">onFitPopup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_x</span><span class="o">.</span><span class="n">get_fit_result</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_y</span><span class="o">.</span><span class="n">get_fit_result</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_popframe</span> <span class="o">=</span> <span class="n">FitPlotFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_x</span><span class="p">,</span>
                                         <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_popframe</span><span class="o">.</span><span class="n">SetTitle</span><span class="p">(</span><span class="s1">&#39;Curves Fitting&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_popframe</span><span class="o">.</span><span class="n">SetMinSize</span><span class="p">((</span><span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_popframe</span><span class="o">.</span><span class="n">Show</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImageViewer.onResetROI"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onResetROI">[docs]</a>    <span class="k">def</span> <span class="nf">onResetROI</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">roixy</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wpx</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hpx</span><span class="p">]</span></div>

<div class="viewcode-block" id="ImageViewer.onChooseROI"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onChooseROI">[docs]</a>    <span class="k">def</span> <span class="nf">onChooseROI</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">roiFrame</span> <span class="o">=</span> <span class="n">ChooseROIFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">roiFrame</span><span class="o">.</span><span class="n">SetTitle</span><span class="p">(</span><span class="s1">&#39;Select Region of Interest&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">roiFrame</span><span class="o">.</span><span class="n">Show</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImageViewer.onTickTime"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onTickTime">[docs]</a>    <span class="k">def</span> <span class="nf">onTickTime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">fmt</span> <span class="o">=</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S %Z&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timenow_st</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">fmt</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">()))</span></div>

<div class="viewcode-block" id="ImageViewer.onDAQbtn"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onDAQbtn">[docs]</a>    <span class="k">def</span> <span class="nf">onDAQbtn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">label</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">GetLabel</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mypv</span><span class="p">,</span> <span class="n">epics</span><span class="o">.</span><span class="n">pv</span><span class="o">.</span><span class="n">PV</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mypv</span> <span class="o">=</span> <span class="n">epics</span><span class="o">.</span><span class="n">PV</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgsrc_tc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">(),</span> <span class="n">auto_monitor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">IsRunning</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">Stop</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">min_slider</span><span class="o">.</span><span class="n">Enable</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">max_slider</span><span class="o">.</span><span class="n">Enable</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">daqtgl_btn</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="s1">&#39;START&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">daqtgl_btn</span><span class="o">.</span><span class="n">SetBackgroundColour</span><span class="p">(</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">Start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">timer_msec</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">min_slider</span><span class="o">.</span><span class="n">Disable</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">max_slider</span><span class="o">.</span><span class="n">Disable</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">daqtgl_btn</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="s1">&#39;STOP&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">daqtgl_btn</span><span class="o">.</span><span class="n">SetBackgroundColour</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageViewer.onUpdate"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onUpdate">[docs]</a>    <span class="k">def</span> <span class="nf">onUpdate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mypv</span><span class="o">.</span><span class="n">connected</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">inten_val</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%.4e</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mypv</span><span class="o">.</span><span class="n">get</span><span class="p">())))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mypv</span><span class="o">.</span><span class="n">get</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">wpx</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">hpx</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wpx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hpx</span><span class="p">))[</span><span class="bp">self</span><span class="o">.</span><span class="n">roixy</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span><span class="bp">self</span><span class="o">.</span><span class="n">roixy</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">roixy</span><span class="p">[</span>
                    <span class="mi">2</span><span class="p">]:</span><span class="bp">self</span><span class="o">.</span><span class="n">roixy</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">cmin_now</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgcr_min_tc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
                <span class="n">cmax_now</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgcr_max_tc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="n">cmin_now</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">cmax_now</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">im</span><span class="o">.</span><span class="n">set_clim</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="n">cmin_now</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="n">cmax_now</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">im</span><span class="o">.</span><span class="n">set_array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">z</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span>
            <span class="c1"># update fitting report box</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_fit_update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fit_popframe</span><span class="o">.</span><span class="n">plotpanel</span><span class="o">.</span><span class="n">repaint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_model_x</span><span class="p">,</span>
                                                    <span class="bp">self</span><span class="o">.</span><span class="n">fit_model_y</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dial</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">MessageDialog</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">u&quot;Lost connection, may be caused by network error or the IOC server is down.&quot;</span><span class="p">,</span>
                <span class="n">caption</span><span class="o">=</span><span class="s2">u&quot;Lost Connection&quot;</span><span class="p">,</span>
                <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">OK</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ICON_ERROR</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">CENTRE</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dial</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_OK</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">Stop</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">min_slider</span><span class="o">.</span><span class="n">Enable</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">max_slider</span><span class="o">.</span><span class="n">Enable</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">daqtgl_btn</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="s1">&#39;START&#39;</span><span class="p">)</span>
                <span class="n">dial</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImageViewer.onSetImgSrc"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onSetImgSrc">[docs]</a>    <span class="k">def</span> <span class="nf">onSetImgSrc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        set image data source and show in the image panel</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mypv</span> <span class="o">=</span> <span class="n">epics</span><span class="o">.</span><span class="n">PV</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">GetValue</span><span class="p">(),</span>
                             <span class="n">auto_monitor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mypv</span><span class="o">.</span><span class="n">get</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">wpx</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">hpx</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wpx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hpx</span><span class="p">))[</span><span class="bp">self</span><span class="o">.</span><span class="n">roixy</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span><span class="bp">self</span><span class="o">.</span><span class="n">roixy</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">roixy</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
                                 <span class="bp">self</span><span class="o">.</span><span class="n">roixy</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">cmin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">cmax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">cmin_now</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">cmin</span>
        <span class="n">cmax_now</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">cmax</span>
        <span class="c1"># update self.min_slider and self.max_slider,</span>
        <span class="c1"># as well as self.min_value_st and self.max_value_st</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_value_st</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.1f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cmin_now</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_value_st</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.1f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cmax_now</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_slider</span><span class="o">.</span><span class="n">SetMin</span><span class="p">(</span><span class="n">cmin_now</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_slider</span><span class="o">.</span><span class="n">SetMax</span><span class="p">(</span><span class="n">cmax_now</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_slider</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">cmin_now</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_slider</span><span class="o">.</span><span class="n">SetMin</span><span class="p">(</span><span class="n">cmin_now</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_slider</span><span class="o">.</span><span class="n">SetMax</span><span class="p">(</span><span class="n">cmax_now</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_slider</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">cmax_now</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgcr_min_tc</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.1f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">cmin_now</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgcr_max_tc</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.1f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">cmax_now</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">im</span><span class="o">.</span><span class="n">set_clim</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="n">cmin_now</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="n">cmax_now</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">im</span><span class="o">.</span><span class="n">set_array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">z</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inten_val</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%.4e</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mypv</span><span class="o">.</span><span class="n">get</span><span class="p">())))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fit_update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageViewer.onCheckRCM"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onCheckRCM">[docs]</a>    <span class="k">def</span> <span class="nf">onCheckRCM</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">IsChecked</span><span class="p">():</span>  <span class="c1"># checked</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rcmflag</span> <span class="o">=</span> <span class="s1">&#39;_r&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rcmflag</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">cmap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cm_cb</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">rcmflag</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">onSetcm</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgcm</span><span class="o">.</span><span class="n">onSetcm</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageViewer.onSetColorRange"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onSetColorRange">[docs]</a>    <span class="k">def</span> <span class="nf">onSetColorRange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">clickedobj</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">clickedobj</span><span class="o">.</span><span class="n">GetId</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_slider</span><span class="o">.</span><span class="n">GetId</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">min_value_st</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.1f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">clickedobj</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()))</span>
        <span class="k">elif</span> <span class="n">clickedobj</span><span class="o">.</span><span class="n">GetId</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_slider</span><span class="o">.</span><span class="n">GetId</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">max_value_st</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.1f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">clickedobj</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()))</span>

        <span class="n">cmin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_slider</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="n">cmax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_slider</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">onSetCr</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">cmin</span><span class="p">,</span> <span class="n">cmax</span><span class="p">]))</span></div>

<div class="viewcode-block" id="ImageViewer.onBookmark"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onBookmark">[docs]</a>    <span class="k">def</span> <span class="nf">onBookmark</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">cmvalue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cm_cb</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">cmvalue</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_favo</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_favo</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmvalue</span><span class="p">)</span>
        <span class="c1">## update self.cm_cb choices field</span>
        <span class="n">cmclass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_cb</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cm_cb</span><span class="o">.</span><span class="n">Clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cm_cb</span><span class="o">.</span><span class="n">AppendItems</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmlist</span><span class="p">[</span><span class="n">cmclass</span><span class="p">])</span></div>

<div class="viewcode-block" id="ImageViewer.onUnBookmark"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onUnBookmark">[docs]</a>    <span class="k">def</span> <span class="nf">onUnBookmark</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">cmvalue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cm_cb</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">cmvalue</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_favo</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_favo</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">cmvalue</span><span class="p">)</span>
        <span class="c1">## update self.cm_cb choices field</span>
        <span class="n">cmclass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmlist_cb</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cm_cb</span><span class="o">.</span><span class="n">Clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cm_cb</span><span class="o">.</span><span class="n">AppendItems</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmlist</span><span class="p">[</span><span class="n">cmclass</span><span class="p">])</span></div>

<div class="viewcode-block" id="ImageViewer.onAddPV"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onAddPV">[docs]</a>    <span class="k">def</span> <span class="nf">onAddPV</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">pvstr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imgsrc_tc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">pvstr</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">imgsrcPVlist</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">imgsrcPVlist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pvstr</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageViewer.onRmPV"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onRmPV">[docs]</a>    <span class="k">def</span> <span class="nf">onRmPV</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">pvstr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imgsrc_tc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">pvstr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">imgsrcPVlist</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">imgsrcPVlist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">pvstr</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageViewer.onSetColormap"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onSetColormap">[docs]</a>    <span class="k">def</span> <span class="nf">onSetColormap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="o">.</span><span class="n">onSetcm</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">rcmflag</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgcm</span><span class="o">.</span><span class="n">onSetcm</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">rcmflag</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageViewer.onSetCmclass"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageViewer.onSetCmclass">[docs]</a>    <span class="k">def</span> <span class="nf">onSetCmclass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">cmclass</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cm_cb</span><span class="o">.</span><span class="n">Clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cm_cb</span><span class="o">.</span><span class="n">AppendItems</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmlist</span><span class="p">[</span><span class="n">cmclass</span><span class="p">])</span></div></div>


<div class="viewcode-block" id="ConfigNoteBook"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ConfigNoteBook">[docs]</a><span class="k">class</span> <span class="nc">ConfigNoteBook</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Notebook</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">NB_LEFT</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kws</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kws</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MakePages</span><span class="p">()</span>

<div class="viewcode-block" id="ConfigNoteBook.MakePages"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ConfigNoteBook.MakePages">[docs]</a>    <span class="k">def</span> <span class="nf">MakePages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imagePage</span> <span class="o">=</span> <span class="n">ImageConfigPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stylePage</span> <span class="o">=</span> <span class="n">StyleConfigPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controlPage</span> <span class="o">=</span> <span class="n">ControlConfigPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">histPlotPage</span> <span class="o">=</span> <span class="n">HistPlotConfigPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">AddPage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imagePage</span><span class="p">,</span> <span class="s1">&#39;Image&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AddPage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stylePage</span><span class="p">,</span> <span class="s1">&#39;Style&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AddPage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">controlPage</span><span class="p">,</span> <span class="s1">&#39;Control&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AddPage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">histPlotPage</span><span class="p">,</span> <span class="s1">&#39;HistPlot&#39;</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="AutoSavePanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.AutoSavePanel">[docs]</a><span class="k">class</span> <span class="nc">AutoSavePanel</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">DEFAULT_FRAME_STYLE</span> <span class="o">&amp;</span>
            <span class="o">~</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">RESIZE_BORDER</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">MAXIMIZE_BOX</span><span class="p">),</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InitUI</span><span class="p">()</span>

<div class="viewcode-block" id="AutoSavePanel.InitUI"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.AutoSavePanel.InitUI">[docs]</a>    <span class="k">def</span> <span class="nf">InitUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createPanel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">postInit</span><span class="p">()</span></div>

<div class="viewcode-block" id="AutoSavePanel.createPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.AutoSavePanel.createPanel">[docs]</a>    <span class="k">def</span> <span class="nf">createPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">panel</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="c1"># format choosing</span>
        <span class="n">sbox1</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">createwxStaticBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Choose Saving Format&#39;</span><span class="p">,</span> 
                                           <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
        <span class="c1">#sbox1 = wx.StaticBox(self.panel, label=&#39;Choose Saving Format&#39;)</span>
        <span class="c1">#sfont = sbox1.GetFont()</span>
        <span class="c1">#sfont.SetPointSize(8)</span>
        <span class="c1">#sbox1.SetFont(sfont)</span>
        <span class="c1">#sbox1.SetForegroundColour(&#39;grey&#39;)</span>
        <span class="n">sbsizer1</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticBoxSizer</span><span class="p">(</span><span class="n">sbox1</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>

        <span class="c1"># data format: hdf5, asc, sdds, etc.</span>
        <span class="n">datahbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="n">data_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                        <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Data Format&#39;</span><span class="p">,</span>
                                        <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                        <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hdf5_chbox</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyCheckBox</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;hdf5&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">asc_chbox</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyCheckBox</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sdds_chbox</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyCheckBox</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;sdds&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">datahbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">data_st</span><span class="p">,</span>
                     <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                     <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">,</span>
                     <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">datahbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hdf5_chbox</span><span class="p">,</span>
                     <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                     <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span>
                     <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">datahbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">asc_chbox</span><span class="p">,</span>
                     <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                     <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span>
                     <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">datahbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sdds_chbox</span><span class="p">,</span>
                     <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                     <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span>
                     <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="c1"># image format: jpg, eps, png, etc.</span>
        <span class="n">imagehbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="n">image_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                         <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Image Format&#39;</span><span class="p">,</span>
                                         <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                         <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">jpg_chbox</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyCheckBox</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;jpg&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eps_chbox</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyCheckBox</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;eps&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">png_chbox</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyCheckBox</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;png&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">imagehbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">image_st</span><span class="p">,</span>
                      <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">imagehbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">jpg_chbox</span><span class="p">,</span>
                      <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">imagehbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">eps_chbox</span><span class="p">,</span>
                      <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">imagehbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">png_chbox</span><span class="p">,</span>
                      <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">sbsizer1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">datahbox</span><span class="p">,</span> <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
        <span class="n">sbsizer1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span>
            <span class="n">wx</span><span class="o">.</span><span class="n">StaticLine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LI_VERTICAL</span><span class="p">),</span>
            <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span>
            <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">sbsizer1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">imagehbox</span><span class="p">,</span>
                     <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                     <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span>
                     <span class="n">border</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

        <span class="c1"># save timer/io setup</span>
        <span class="n">sbox2</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">createwxStaticBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                           <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Options&#39;</span><span class="p">,</span>
                                           <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">,</span>
                                           <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
        <span class="n">sbsizer2</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticBoxSizer</span><span class="p">(</span><span class="n">sbox2</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="c1">## saveto path</span>
        <span class="n">saveto_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                          <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Save to&#39;</span><span class="p">,</span>
                                          <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
                                          <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">savetopath_tc</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyTextCtrl</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                                 <span class="n">value</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span>
                                                 <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_READONLY</span><span class="p">)</span>
        <span class="n">choosepath_btn</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Browse&#39;</span><span class="p">)</span>

        <span class="c1">## save freq setting</span>
        <span class="n">savefreq_st1</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                             <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Save&#39;</span><span class="p">,</span>
                                             <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
                                             <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="n">savefreq_st2</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                             <span class="n">label</span><span class="o">=</span><span class="s1">&#39;frame&#39;</span><span class="p">,</span>
                                             <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
                                             <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="n">savefreq_st3</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                             <span class="n">label</span><span class="o">=</span><span class="s1">&#39;every&#39;</span><span class="p">,</span>
                                             <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
                                             <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="n">savefreq_st4</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                             <span class="n">label</span><span class="o">=</span><span class="s1">&#39;second&#39;</span><span class="p">,</span>
                                             <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
                                             <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">savefreqcnt_sp</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">SpinCtrl</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                          <span class="n">value</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">,</span>
                                          <span class="nb">min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                          <span class="nb">max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                          <span class="n">initial</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                          <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">SP_ARROW_KEYS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">savefreqsec_fsp</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">FloatSpin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                            <span class="n">value</span><span class="o">=</span><span class="s1">&#39;2.0&#39;</span><span class="p">,</span>
                                            <span class="n">min_val</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                                            <span class="n">max_val</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span>
                                            <span class="n">increment</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                                            <span class="n">digits</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                            <span class="n">style</span><span class="o">=</span><span class="n">fs</span><span class="o">.</span><span class="n">FS_LEFT</span><span class="p">)</span>
        <span class="n">savefreq_st5</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                             <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Total Saved Record Number&#39;</span><span class="p">,</span>
                                             <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
                                             <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">savefreqtot_sp</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">SpinCtrl</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                          <span class="n">value</span><span class="o">=</span><span class="s1">&#39;10&#39;</span><span class="p">,</span>
                                          <span class="nb">min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                          <span class="nb">max</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span>
                                          <span class="n">initial</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                          <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">SP_ARROW_KEYS</span><span class="p">)</span>

        <span class="n">savegsbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">GridBagSizer</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">savegsbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">saveto_st</span><span class="p">,</span>
                      <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">savegsbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">savetopath_tc</span><span class="p">,</span>
                      <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                      <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">savegsbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">choosepath_btn</span><span class="p">,</span>
                      <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
                      <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">savegsbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">savefreq_st1</span><span class="p">,</span>
                      <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">savegsbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">savefreqcnt_sp</span><span class="p">,</span>
                      <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                      <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">savegsbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">savefreq_st2</span><span class="p">,</span>
                      <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                      <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">savegsbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">savefreq_st3</span><span class="p">,</span>
                      <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                      <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">savegsbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">savefreqsec_fsp</span><span class="p">,</span>
                      <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
                      <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">savegsbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">savefreq_st4</span><span class="p">,</span>
                      <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
                      <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">savegsbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">savefreq_st5</span><span class="p">,</span>
                      <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">savegsbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">savefreqtot_sp</span><span class="p">,</span>
                      <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                      <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">savegsbox</span><span class="o">.</span><span class="n">AddGrowableCol</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">savegsbox</span><span class="o">.</span><span class="n">AddGrowableCol</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">savegsbox</span><span class="o">.</span><span class="n">AddGrowableCol</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">savegsbox</span><span class="o">.</span><span class="n">AddGrowableCol</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>

        <span class="n">sbsizer2</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">savegsbox</span><span class="p">,</span>
                     <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                     <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span>
                     <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="c1"># cmd hbox sizer</span>
        <span class="n">cmdhbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">startsave_btn</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                          <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Start SAVE&#39;</span><span class="p">,</span>
                                          <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
        <span class="n">cancel_btn</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Cancel&#39;</span><span class="p">)</span>
        <span class="n">cmdhbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">cancel_btn</span><span class="p">,</span> <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">cmdhbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">startsave_btn</span><span class="p">,</span>
                    <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TOP</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span>
                    <span class="n">border</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="c1"># set sizers</span>
        <span class="n">mainsizer</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="n">mainsizer</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">sbsizer1</span><span class="p">,</span>
                      <span class="n">proportion</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">mainsizer</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">sbsizer2</span><span class="p">,</span>
                      <span class="n">proportion</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">mainsizer</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">cmdhbox</span><span class="p">,</span>
                      <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="o">.</span><span class="n">SetSizer</span><span class="p">(</span><span class="n">mainsizer</span><span class="p">)</span>
        <span class="n">osizer</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="n">osizer</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetSizerAndFit</span><span class="p">(</span><span class="n">osizer</span><span class="p">)</span>

        <span class="c1"># event bindings</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onStart</span><span class="p">,</span> <span class="n">startsave_btn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onCancel</span><span class="p">,</span> <span class="n">cancel_btn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onChoosePath</span><span class="p">,</span> <span class="n">choosepath_btn</span><span class="p">)</span></div>

<div class="viewcode-block" id="AutoSavePanel.postInit"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.AutoSavePanel.postInit">[docs]</a>    <span class="k">def</span> <span class="nf">postInit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hdf5_chbox</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">asc_chbox</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sdds_chbox</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">jpg_chbox</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eps_chbox</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">png_chbox</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span></div>

        <span class="c1"># define a test timer for saving action</span>
        <span class="c1">#self.testtimer = wx.Timer(self)</span>
        <span class="c1">#self.Bind(wx.EVT_TIMER, self.onTestTimer, self.testtimer)</span>
        <span class="c1">#def onTestTimer(self, event):</span>
        <span class="c1">#    fmt=&#39;%Y-%m-%d %H:%M:%S %Z&#39;</span>
        <span class="c1">#    print &#39;SAVE at &#39;, time.strftime(fmt, time.localtime())</span>

<div class="viewcode-block" id="AutoSavePanel.onStart"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.AutoSavePanel.onStart">[docs]</a>    <span class="k">def</span> <span class="nf">onStart</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">tperiod_setval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">savefreqsec_fsp</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>  <span class="c1"># sec</span>
        <span class="n">cntpert_setval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">savefreqcnt_sp</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="n">total_setval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">savefreqtot_sp</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="c1"># return parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span><span class="s1">&#39;save_total_record&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">total_setval</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span>
            <span class="s1">&#39;save_tfreq_msec&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tperiod_setval</span> <span class="o">*</span> <span class="mf">1000.0</span> <span class="o">/</span> <span class="n">cntpert_setval</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span><span class="s1">&#39;save_path&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">savetopath_tc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span><span class="s1">&#39;save_datfmt_hdf5&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hdf5_chbox</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span><span class="s1">&#39;save_datfmt_asc&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">asc_chbox</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span><span class="s1">&#39;save_datfmt_sdds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sdds_chbox</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span><span class="s1">&#39;save_imgfmt_jpg&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">jpg_chbox</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span><span class="s1">&#39;save_imgfmt_eps&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">eps_chbox</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span><span class="s1">&#39;save_imgfmt_png&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">png_chbox</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">saveTimerLife</span> <span class="o">=</span> <span class="n">total_setval</span>

        <span class="c1">#self.testtimer.Start(tperiod_setval/cntpert_setval*1000)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">savetimer</span><span class="o">.</span><span class="n">Start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">savedict</span><span class="p">[</span><span class="s1">&#39;save_tfreq_msec&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Close</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="AutoSavePanel.onCancel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.AutoSavePanel.onCancel">[docs]</a>    <span class="k">def</span> <span class="nf">onCancel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Close</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="AutoSavePanel.onChoosePath"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.AutoSavePanel.onChoosePath">[docs]</a>    <span class="k">def</span> <span class="nf">onChoosePath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">dlg</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">DirDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dlg</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_OK</span><span class="p">:</span>
            <span class="n">dirpath</span> <span class="o">=</span> <span class="n">dlg</span><span class="o">.</span><span class="n">GetPath</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">savetopath_tc</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">dirpath</span><span class="p">)</span>
        <span class="n">dlg</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="AppConfigPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.AppConfigPanel">[docs]</a><span class="k">class</span> <span class="nc">AppConfigPanel</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span>
                                             <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span>
                                             <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">DEFAULT_FRAME_STYLE</span><span class="p">,</span>
                                             <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1">#style = wx.DEFAULT_FRAME_STYLE &amp; ~(wx.RESIZE_BORDER | wx.MAXIMIZE_BOX), **kwargs)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InitUI</span><span class="p">()</span>

<div class="viewcode-block" id="AppConfigPanel.InitUI"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.AppConfigPanel.InitUI">[docs]</a>    <span class="k">def</span> <span class="nf">InitUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createMenu</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createStatusbar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createNotebooks</span><span class="p">()</span></div>

<div class="viewcode-block" id="AppConfigPanel.createMenu"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.AppConfigPanel.createMenu">[docs]</a>    <span class="k">def</span> <span class="nf">createMenu</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="AppConfigPanel.createStatusbar"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.AppConfigPanel.createStatusbar">[docs]</a>    <span class="k">def</span> <span class="nf">createStatusbar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="AppConfigPanel.createNotebooks"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.AppConfigPanel.createNotebooks">[docs]</a>    <span class="k">def</span> <span class="nf">createNotebooks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">vbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="c1"># config notebook</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configNB</span> <span class="o">=</span> <span class="n">ConfigNoteBook</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">NB_TOP</span><span class="p">)</span>

        <span class="c1"># btns</span>
        <span class="c1"># btn style</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        lbtnfont = wx.SystemSettings_GetFont(wx.SYS_SYSTEM_FONT)</span>
<span class="sd">        lbtnfont.SetPointSize(12)</span>
<span class="sd">        lbtnfont.SetWeight(wx.FONTWEIGHT_NORMAL)</span>
<span class="sd">        lbtnfontcolor = &#39;#FF00B0&#39;</span>
<span class="sd">        lbtnfacecolor = &#39;#BFD9F0&#39;</span>
<span class="sd">        self.applybtn.SetFont(lbtnfont)</span>
<span class="sd">        self.applybtn.SetForegroundColour(lbtnfontcolor)</span>
<span class="sd">        self.applybtn.SetBackgroundColour(lbtnfacecolor)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cancelbtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Cancel&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">applybtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Apply&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">okbtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;OK&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onCancelData</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cancelbtn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onApplyData</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">applybtn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onUpdateData</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">okbtn</span><span class="p">)</span>

        <span class="n">hboxbtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">hboxbtn</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cancelbtn</span><span class="p">,</span>
                    <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span>
                    <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">hboxbtn</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">applybtn</span><span class="p">,</span>
                    <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span>
                    <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">hboxbtn</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">okbtn</span><span class="p">,</span>
                    <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span>
                    <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="c1"># set sizer</span>
        <span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">configNB</span><span class="p">,</span>
                 <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                 <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span>
                 <span class="n">border</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
        <span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">hboxbtn</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
        <span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetSizerAndFit</span><span class="p">(</span><span class="n">vbox</span><span class="p">)</span>

        <span class="c1"># config pages references:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imagePage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">configNB</span><span class="o">.</span><span class="n">imagePage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stylePage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">configNB</span><span class="o">.</span><span class="n">stylePage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controlPage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">configNB</span><span class="o">.</span><span class="n">controlPage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">histPlotPage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">configNB</span><span class="o">.</span><span class="n">histPlotPage</span>

        <span class="c1">## update imgsrcPVcb choices field of self.menuAppConfig</span>
        <span class="n">imgsrcPVcb_point</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controlPage</span><span class="o">.</span><span class="n">imgsrcPVcb</span>
        <span class="n">imgsrcPVcb_point</span><span class="o">.</span><span class="n">Clear</span><span class="p">()</span>
        <span class="n">imgsrcPVcb_point</span><span class="o">.</span><span class="n">AppendItems</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">imgsrcPVlist</span><span class="p">)</span>

        <span class="c1"># main App panel (ImageViewer) reference</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span></div>

<div class="viewcode-block" id="AppConfigPanel.onCancelData"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.AppConfigPanel.onCancelData">[docs]</a>    <span class="k">def</span> <span class="nf">onCancelData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Close</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="AppConfigPanel.onApplyData"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.AppConfigPanel.onApplyData">[docs]</a>    <span class="k">def</span> <span class="nf">onApplyData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setParams</span><span class="p">()</span></div>

<div class="viewcode-block" id="AppConfigPanel.onUpdateData"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.AppConfigPanel.onUpdateData">[docs]</a>    <span class="k">def</span> <span class="nf">onUpdateData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setParams</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Close</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="AppConfigPanel.setParams"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.AppConfigPanel.setParams">[docs]</a>    <span class="k">def</span> <span class="nf">setParams</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># imagePage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">imginifunc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imagePage</span><span class="o">.</span><span class="n">imginifunccb</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">wpx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imagePage</span><span class="o">.</span><span class="n">imgwpxtc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">hpx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imagePage</span><span class="o">.</span><span class="n">imghpxtc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">roixy</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">wpx</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">hpx</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_path_str_head</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">imagePage</span><span class="o">.</span><span class="n">pathtc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_path_str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_path_str_head</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span>
                                                           <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_img_name_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imagePage</span><span class="o">.</span><span class="n">imgnamepretc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_img_ext_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imagePage</span><span class="o">.</span><span class="n">imgnameexttc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_dat_name_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imagePage</span><span class="o">.</span><span class="n">imgdatnamepretc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">(</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_dat_ext_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imagePage</span><span class="o">.</span><span class="n">imgdatnameexttc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">(</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_int_name_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imagePage</span><span class="o">.</span><span class="n">intnamepretc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_int_ext_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imagePage</span><span class="o">.</span><span class="n">intnameexttc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>

        <span class="c1"># stylePage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">bkgdcolor</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">hex2rgb</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stylePage</span><span class="o">.</span><span class="n">bkgdcolortc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stylePage</span><span class="o">.</span><span class="n">font</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontptsize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stylePage</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">GetPointSize</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontfamily</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stylePage</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">GetFamily</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontstyle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stylePage</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">GetStyle</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontweight</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stylePage</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">GetWeight</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontfacename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stylePage</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">GetFaceName</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Font</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontptsize</span><span class="p">,</span>
                                    <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontfamily</span><span class="p">,</span>
                                    <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontstyle</span><span class="p">,</span>
                                    <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontweight</span><span class="p">,</span>
                                    <span class="n">faceName</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontfacename</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontptsize_large</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontptsize</span> <span class="o">*</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontptsize_big</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontptsize</span> <span class="o">*</span> <span class="mf">1.2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontptsize_normal</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontptsize</span> <span class="o">*</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontptsize_small</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontptsize</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontptsize_tiny</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontptsize</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span>

        <span class="c1"># controlPage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">timer_freq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controlPage</span><span class="o">.</span><span class="n">freqtc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">timer_msec</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">timer_freq</span> <span class="o">*</span> <span class="mi">1000</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">imgsrcPV</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controlPage</span><span class="o">.</span><span class="n">imgsrcPVcb</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">libcaPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controlPage</span><span class="o">.</span><span class="n">libcaPathtc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">caAddrList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controlPage</span><span class="o">.</span><span class="n">caAddrListtc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">caAddrAuto</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controlPage</span><span class="o">.</span><span class="n">caAddrAutochk</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">caArrayBytes</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">controlPage</span><span class="o">.</span><span class="n">caArrayBytestc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">pixelSize</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">controlPage</span><span class="o">.</span><span class="n">pixelSizetc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>

        <span class="c1"># histPlotPage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">heightRatio</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">histPlotPage</span><span class="o">.</span><span class="n">heightratiotc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>

        <span class="c1"># update parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;imgIniFunc&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">imginifunc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">wpx</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">hpx</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;savePath&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_path_str_head</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;saveImgName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_img_name_str</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;saveImgExt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_img_ext_str</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span>
            <span class="s1">&#39;saveImgDatName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_dat_name_str</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span>
            <span class="s1">&#39;saveImgDatExt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_dat_ext_str</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;saveIntName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_int_name_str</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;saveIntExt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_int_ext_str</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">timer_freq</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;imgsrcPV&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">imgsrcPV</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;imgsrcPVlist&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">imgsrcPVlist</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;cmFavor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">cmlist_favo</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span>
            <span class="s1">&#39;backgroundColor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stylePage</span><span class="o">.</span><span class="n">bkgdcolortc</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;heightRatio&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">heightRatio</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;fontpointsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontptsize</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;fontfamily&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontfamily</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;fontstyle&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontstyle</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;fontweight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontweight</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;fontfacename&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">fontfacename</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;libcaPath&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">libcaPath</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;caAddrAuto&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">caAddrAuto</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;caAddrList&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">caAddrList</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;caArrayBytes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">caArrayBytes</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">[</span><span class="s1">&#39;pixelSize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">pixelSize</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">xmlconfig</span><span class="o">.</span><span class="n">updateConfigs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">configdict</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">onUpdateUI</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">setEnvars</span><span class="p">()</span></div></div>

        <span class="c1"># for debug</span>
        <span class="c1">#self.thisapp.printConfig()</span>


<div class="viewcode-block" id="ImageConfigPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageConfigPanel">[docs]</a><span class="k">class</span> <span class="nc">ImageConfigPanel</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>

<div class="viewcode-block" id="ImageConfigPanel.initUI"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageConfigPanel.initUI">[docs]</a>    <span class="k">def</span> <span class="nf">initUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initConfig</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createPanel</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImageConfigPanel.initConfig"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageConfigPanel.initConfig">[docs]</a>    <span class="k">def</span> <span class="nf">initConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bkgdcolor</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BLUE</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontcolor</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BLACK</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontptsize</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontweight</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span></div>

<div class="viewcode-block" id="ImageConfigPanel.createPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageConfigPanel.createPanel">[docs]</a>    <span class="k">def</span> <span class="nf">createPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1">#self.SetBackgroundColour(self.bkgdcolor)</span>

        <span class="n">vboxsizer</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        sbfont.SetPointSize(self.fontptsize)</span>
<span class="sd">        sbfont.SetWeight(self.fontweight)</span>
<span class="sd">        sbfontcolor = &#39;GREY&#39;</span>
<span class="sd">        sbox.SetFont(sbfont)</span>
<span class="sd">        sbox.SetForegroundColour(sbfontcolor)</span>
<span class="sd">        sbsizer = wx.StaticBoxSizer(sbox, orient = wx.VERTICAL)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1">#### input items</span>
        <span class="n">gs</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">GridBagSizer</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

        <span class="n">imginifuncst</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                     <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Initial Image Function&#39;</span><span class="p">,</span>
                                     <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>

        <span class="n">imgwpxst</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                 <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Image Width [px]&#39;</span><span class="p">,</span>
                                 <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="n">imghpxst</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                 <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Image Height [px]&#39;</span><span class="p">,</span>
                                 <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="n">pathst</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                               <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Save Figure to Path&#39;</span><span class="p">,</span>
                               <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="n">imgnameprest</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                     <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Image Name Prefix&#39;</span><span class="p">,</span>
                                     <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="n">imgnameextst</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                     <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Image Name Extension&#39;</span><span class="p">,</span>
                                     <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="n">intnameprest</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                     <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Intensity Name Prefix&#39;</span><span class="p">,</span>
                                     <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="n">intnameextst</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                     <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Intensity Name Extension&#39;</span><span class="p">,</span>
                                     <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="n">imgdatnameprest</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                        <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Image Data Name Prefix&#39;</span><span class="p">,</span>
                                        <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="n">imgdatnameextst</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                        <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Image Data Name Extension&#39;</span><span class="p">,</span>
                                        <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">imginifunccb</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ComboBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                        <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">imginifunc</span><span class="p">,</span>
                                        <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">CB_READONLY</span><span class="p">,</span>
                                        <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;peaks&#39;</span><span class="p">,</span> <span class="s1">&#39;sinc&#39;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">imgwpxtc</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">TextCtrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                    <span class="n">value</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">wpx</span><span class="p">),</span>
                                    <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_PROCESS_ENTER</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imghpxtc</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">TextCtrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                    <span class="n">value</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">hpx</span><span class="p">),</span>
                                    <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_PROCESS_ENTER</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pathtc</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">TextCtrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                  <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_path_str_head</span><span class="p">,</span>
                                  <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_READONLY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pathtc</span><span class="o">.</span><span class="n">SetToolTip</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">ToolTip</span><span class="p">(</span>
            <span class="s1">&#39;Fullpath (subdired by the date) the config file be saved.&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pathbtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Browse&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgnamepretc</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">TextCtrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                        <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_img_name_str</span><span class="p">,</span>
                                        <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_PROCESS_ENTER</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgnameexttc</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ComboBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                        <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_img_ext_str</span><span class="p">,</span>
                                        <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">CB_READONLY</span><span class="p">,</span>
                                        <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;.png&#39;</span><span class="p">,</span> <span class="s1">&#39;.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;.jpeg&#39;</span><span class="p">,</span>
                                                 <span class="s1">&#39;.svg&#39;</span><span class="p">,</span> <span class="s1">&#39;.tiff&#39;</span><span class="p">,</span> <span class="s1">&#39;.eps&#39;</span><span class="p">,</span>
                                                 <span class="s1">&#39;.pdf&#39;</span><span class="p">,</span> <span class="s1">&#39;.ps&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgdatnamepretc</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">TextCtrl</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_dat_name_str</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_PROCESS_ENTER</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgdatnameexttc</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ComboBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                           <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_dat_ext_str</span><span class="p">,</span>
                                           <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">CB_READONLY</span><span class="p">,</span>
                                           <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;.asc&#39;</span><span class="p">,</span> <span class="s1">&#39;.hdf5&#39;</span><span class="p">,</span> <span class="s1">&#39;.sdds&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intnamepretc</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">TextCtrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                        <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_int_name_str</span><span class="p">,</span>
                                        <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_PROCESS_ENTER</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intnameexttc</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ComboBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                        <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">save_int_ext_str</span><span class="p">,</span>
                                        <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">CB_READONLY</span><span class="p">,</span>
                                        <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;.png&#39;</span><span class="p">,</span> <span class="s1">&#39;.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;.jpeg&#39;</span><span class="p">,</span>
                                                 <span class="s1">&#39;.svg&#39;</span><span class="p">,</span> <span class="s1">&#39;.tiff&#39;</span><span class="p">,</span> <span class="s1">&#39;.eps&#39;</span><span class="p">,</span>
                                                 <span class="s1">&#39;.pdf&#39;</span><span class="p">,</span> <span class="s1">&#39;.ps&#39;</span><span class="p">])</span>

        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">imginifuncst</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imginifunccb</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">imgwpxst</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgwpxtc</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">imghpxst</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imghpxtc</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">pathst</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pathtc</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pathbtn</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">imgnameprest</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgnamepretc</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">imgnameextst</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgnameexttc</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">imgdatnameprest</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgdatnamepretc</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">imgdatnameextst</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgdatnameexttc</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">intnameprest</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">intnamepretc</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">intnameextst</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">intnameexttc</span><span class="p">,</span>
               <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
               <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
               <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
               <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">AddGrowableCol</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">gs</span><span class="o">.</span><span class="n">AddGrowableCol</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">vboxsizer</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">gs</span><span class="p">,</span>
                      <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span>
                      <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

        <span class="n">vboxsizer</span><span class="o">.</span><span class="n">Add</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="c1">## set boxsizer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetSizer</span><span class="p">(</span><span class="n">vboxsizer</span><span class="p">)</span>

        <span class="c1">## bind events</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_TEXT_ENTER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onUpdateParams</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">imgwpxtc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_TEXT_ENTER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onUpdateParams</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">imghpxtc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onChooseDirpath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pathbtn</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageConfigPanel.onChooseDirpath"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageConfigPanel.onChooseDirpath">[docs]</a>    <span class="k">def</span> <span class="nf">onChooseDirpath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">dlg</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">DirDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dlg</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_OK</span><span class="p">:</span>
            <span class="n">dirpath</span> <span class="o">=</span> <span class="n">dlg</span><span class="o">.</span><span class="n">GetPath</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pathtc</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">dirpath</span><span class="p">)</span>
        <span class="n">dlg</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImageConfigPanel.onUpdateParams"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageConfigPanel.onUpdateParams">[docs]</a>    <span class="k">def</span> <span class="nf">onUpdateParams</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">dial</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">MessageDialog</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">u&quot;Error, please input an integer number!&quot;</span><span class="p">,</span>
                <span class="n">caption</span><span class="o">=</span><span class="s2">u&quot;Input Error&quot;</span><span class="p">,</span>
                <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">OK</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">CANCEL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ICON_ERROR</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">CENTRE</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dial</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_OK</span><span class="p">:</span>
                <span class="n">obj</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="n">dial</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="StyleConfigPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.StyleConfigPanel">[docs]</a><span class="k">class</span> <span class="nc">StyleConfigPanel</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>

<div class="viewcode-block" id="StyleConfigPanel.initUI"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.StyleConfigPanel.initUI">[docs]</a>    <span class="k">def</span> <span class="nf">initUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initConfig</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createPanel</span><span class="p">()</span></div>

<div class="viewcode-block" id="StyleConfigPanel.initConfig"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.StyleConfigPanel.initConfig">[docs]</a>    <span class="k">def</span> <span class="nf">initConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bkgdcolor</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BLUE</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontcolor</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BLACK</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontptsize</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontweight</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">font</span></div>

<div class="viewcode-block" id="StyleConfigPanel.createPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.StyleConfigPanel.createPanel">[docs]</a>    <span class="k">def</span> <span class="nf">createPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">vboxsizer</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="n">bkgdcolorst</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                    <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Background Color&#39;</span><span class="p">,</span>
                                    <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bkgdcolortc</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">TextCtrl</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">funutils</span><span class="o">.</span><span class="n">rgb2hex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">bkgdcolor</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span>
            <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_READONLY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bkgdcolorbtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                      <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Choose Color&#39;</span><span class="p">,</span>
                                      <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">140</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

        <span class="n">fontst</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Font&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chosenfonttc</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyTextCtrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                                <span class="n">value</span><span class="o">=</span><span class="s1">u&#39;Do it Pythonicly.&#39;</span><span class="p">,</span>
                                                <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_READONLY</span><span class="p">,</span>
                                                <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">choosefontbtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                       <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Choose Font&#39;</span><span class="p">,</span>
                                       <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">140</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

        <span class="n">gsstyle</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">GridBagSizer</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">gsstyle</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">bkgdcolorst</span><span class="p">,</span>
                    <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                    <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTRE_VERTICAL</span><span class="p">,</span>
                    <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gsstyle</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bkgdcolortc</span><span class="p">,</span>
                    <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                    <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                    <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span>
                    <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                    <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gsstyle</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bkgdcolorbtn</span><span class="p">,</span>
                    <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                    <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                    <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                    <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gsstyle</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">fontst</span><span class="p">,</span>
                    <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                    <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTRE_VERTICAL</span><span class="p">,</span>
                    <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gsstyle</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chosenfonttc</span><span class="p">,</span>
                    <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                    <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                    <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span>
                    <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                    <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gsstyle</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">choosefontbtn</span><span class="p">,</span>
                    <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                    <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                    <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                    <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gsstyle</span><span class="o">.</span><span class="n">AddGrowableCol</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">vboxsizer</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">gsstyle</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

        <span class="n">vboxsizer</span><span class="o">.</span><span class="n">Add</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="c1">## set boxsizer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetSizer</span><span class="p">(</span><span class="n">vboxsizer</span><span class="p">)</span>

        <span class="c1">## bind events</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onChooseColor</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bkgdcolorbtn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onChooseFont</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">choosefontbtn</span><span class="p">)</span></div>

<div class="viewcode-block" id="StyleConfigPanel.onChooseColor"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.StyleConfigPanel.onChooseColor">[docs]</a>    <span class="k">def</span> <span class="nf">onChooseColor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">dlg</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ColourDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">dlg</span><span class="o">.</span><span class="n">GetColourData</span><span class="p">()</span><span class="o">.</span><span class="n">SetChooseFull</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># only windows</span>
        <span class="k">if</span> <span class="n">dlg</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_OK</span><span class="p">:</span>
            <span class="n">color</span> <span class="o">=</span> <span class="n">dlg</span><span class="o">.</span><span class="n">GetColourData</span><span class="p">()</span><span class="o">.</span><span class="n">GetColour</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bkgdcolortc</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">color</span><span class="o">.</span><span class="n">GetAsString</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">C2S_HTML_SYNTAX</span><span class="p">))</span>
        <span class="n">dlg</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span></div>

<div class="viewcode-block" id="StyleConfigPanel.onChooseFont"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.StyleConfigPanel.onChooseFont">[docs]</a>    <span class="k">def</span> <span class="nf">onChooseFont</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">fontdata</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">FontData</span><span class="p">()</span>
        <span class="n">fontdata</span><span class="o">.</span><span class="n">EnableEffects</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">fontdata</span><span class="o">.</span><span class="n">SetInitialFont</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">)</span>
        <span class="n">dial</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">FontDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fontdata</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dial</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_OK</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">dial</span><span class="o">.</span><span class="n">GetFontData</span><span class="p">()</span><span class="o">.</span><span class="n">GetChosenFont</span><span class="p">()</span>
            <span class="c1">#print self.font.GetFaceName(), self.font.GetFamilyString()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">chosenfonttc</span><span class="o">.</span><span class="n">SetFont</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dial</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="ControlConfigPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ControlConfigPanel">[docs]</a><span class="k">class</span> <span class="nc">ControlConfigPanel</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>

<div class="viewcode-block" id="ControlConfigPanel.initUI"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ControlConfigPanel.initUI">[docs]</a>    <span class="k">def</span> <span class="nf">initUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initConfig</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createPanel</span><span class="p">()</span></div>

<div class="viewcode-block" id="ControlConfigPanel.initConfig"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ControlConfigPanel.initConfig">[docs]</a>    <span class="k">def</span> <span class="nf">initConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bkgdcolor</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BLUE</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontcolor</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BLACK</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontptsize</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontweight</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span></div>

<div class="viewcode-block" id="ControlConfigPanel.createPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ControlConfigPanel.createPanel">[docs]</a>    <span class="k">def</span> <span class="nf">createPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">vboxsizer</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="c1"># frequency</span>
        <span class="n">freqst</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                               <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Monitor Frequency [Hz]&#39;</span><span class="p">,</span>
                               <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span><span class="p">)</span>
        <span class="c1">#self.freqtc  = wx.SpinCtrl(self, value = str(self.thisapp.timer_freq),  min = 1, max = 50, initial = 1, style = wx.SP_ARROW_KEYS)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">freqtc</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">FloatSpin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                   <span class="n">value</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">timer_freq</span><span class="p">),</span>
                                   <span class="n">min_val</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                                   <span class="n">max_val</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
                                   <span class="n">increment</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
                                   <span class="n">digits</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                   <span class="n">style</span><span class="o">=</span><span class="n">fs</span><span class="o">.</span><span class="n">FS_LEFT</span><span class="p">)</span>

        <span class="c1"># PV list</span>
        <span class="n">imgsrcPVst</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                   <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Image PV Name&#39;</span><span class="p">,</span>
                                   <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgsrcPVcb</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ComboBox</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">imgsrcPV</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">CB_READONLY</span><span class="p">,</span>
            <span class="n">choices</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">imgsrcPVlist</span><span class="p">))</span>

        <span class="c1"># LIBCA PATH</span>
        <span class="n">libcaPathst</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                    <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;CA Library Path&#39;</span><span class="p">,</span>
                                    <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span><span class="p">)</span>
        <span class="n">libcaPathtc</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">TextCtrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                  <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">libcaPath</span><span class="p">,</span>
                                  <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_READONLY</span><span class="p">)</span>
        <span class="n">libcaPathbtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Browse&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">libcaPathtc</span> <span class="o">=</span> <span class="n">libcaPathtc</span>

        <span class="c1"># EPICS ENVS</span>
        <span class="n">caAddrAutochk</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">CheckBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Auto CA Address&#39;</span><span class="p">)</span>
        <span class="n">caAddrListst</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                     <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;CA Address List&#39;</span><span class="p">,</span>
                                     <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span><span class="p">)</span>
        <span class="n">caAddrListtc</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">TextCtrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                   <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">caAddrList</span><span class="p">,</span>
                                   <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_PROCESS_ENTER</span><span class="p">)</span>
        <span class="n">caAddrListtc</span><span class="o">.</span><span class="n">SetToolTip</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">ToolTip</span><span class="p">(</span>
            <span class="s2">&quot;Input IP addresses or hostnames seperated by &#39;;&#39; or &#39;,&#39; or SPACE.&quot;</span><span class="p">))</span>
        <span class="n">caAddrAutochk</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">caAddrAuto</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caAddrAutochk</span> <span class="o">=</span> <span class="n">caAddrAutochk</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caAddrListst</span> <span class="o">=</span> <span class="n">caAddrListst</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caAddrListtc</span> <span class="o">=</span> <span class="n">caAddrListtc</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">caAddrAutochk</span><span class="o">.</span><span class="n">IsChecked</span><span class="p">():</span>
            <span class="n">caAddrListst</span><span class="o">.</span><span class="n">Disable</span><span class="p">()</span>
            <span class="n">caAddrListtc</span><span class="o">.</span><span class="n">Disable</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">caAddrListst</span><span class="o">.</span><span class="n">Enable</span><span class="p">()</span>
            <span class="n">caAddrListtc</span><span class="o">.</span><span class="n">Enable</span><span class="p">()</span>

        <span class="n">caArrayBytesst</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                       <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;CA Max Array Bytes&#39;</span><span class="p">,</span>
                                       <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span><span class="p">)</span>
        <span class="n">caArrayBytestc</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">TextCtrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                     <span class="n">value</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">caArrayBytes</span><span class="p">),</span>
                                     <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_PROCESS_ENTER</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caArrayBytestc</span> <span class="o">=</span> <span class="n">caArrayBytestc</span>

        <span class="c1"># pixel unit</span>
        <span class="n">pixelSizest</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                    <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Pixel Size in </span><span class="se">\N{GREEK SMALL LETTER MU}</span><span class="s1">m&#39;</span><span class="p">,</span>
                                    <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span><span class="p">)</span>
        <span class="n">pixelSizetc</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">TextCtrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                  <span class="n">value</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">pixelSize</span><span class="p">),</span>
                                  <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_PROCESS_ENTER</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pixelSizetc</span> <span class="o">=</span> <span class="n">pixelSizetc</span>

        <span class="n">gsctrl</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">GridBagSizer</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">gsctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">freqst</span><span class="p">,</span>
                   <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                   <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                   <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                   <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gsctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">freqtc</span><span class="p">,</span>
                   <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                   <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                   <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span>
                   <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                   <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">gsctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">imgsrcPVst</span><span class="p">,</span>
                   <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                   <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                   <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                   <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gsctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgsrcPVcb</span><span class="p">,</span>
                   <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                   <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                   <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span>
                   <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                   <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">gsctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">libcaPathst</span><span class="p">,</span>
                   <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                   <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                   <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                   <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gsctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">libcaPathtc</span><span class="p">,</span>
                   <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                   <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                   <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span>
                   <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                   <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gsctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">libcaPathbtn</span><span class="p">,</span>
                   <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
                   <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                   <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                   <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">gsctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">caArrayBytesst</span><span class="p">,</span>
                   <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                   <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                   <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                   <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gsctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">caArrayBytestc</span><span class="p">,</span>
                   <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                   <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                   <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span>
                   <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                   <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">gsctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">caAddrAutochk</span><span class="p">,</span>
                   <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                   <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
                   <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                   <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">gsctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">caAddrListst</span><span class="p">,</span>
                   <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                   <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                   <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                   <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gsctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">caAddrListtc</span><span class="p">,</span>
                   <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                   <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                   <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span>
                   <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                   <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">gsctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">pixelSizest</span><span class="p">,</span>
                   <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                   <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                   <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                   <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gsctrl</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">pixelSizetc</span><span class="p">,</span>
                   <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                   <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                   <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span>
                   <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                   <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">gsctrl</span><span class="o">.</span><span class="n">AddGrowableCol</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">gsctrl</span><span class="o">.</span><span class="n">AddGrowableCol</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">gsctrl</span><span class="o">.</span><span class="n">AddGrowableCol</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

        <span class="n">vboxsizer</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">gsctrl</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span>
                      <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

        <span class="n">vboxsizer</span><span class="o">.</span><span class="n">Add</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="c1">## set boxsizer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetSizer</span><span class="p">(</span><span class="n">vboxsizer</span><span class="p">)</span>

        <span class="c1">## bind events</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onChooseLib</span><span class="p">,</span> <span class="n">libcaPathbtn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_CHECKBOX</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onCheckAuto</span><span class="p">,</span> <span class="n">caAddrAutochk</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_TEXT_ENTER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onUpdateParams1</span><span class="p">,</span> <span class="n">caAddrListtc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_TEXT_ENTER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onUpdateParams2</span><span class="p">,</span> <span class="n">caArrayBytestc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_TEXT_ENTER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onUpdateParams2</span><span class="p">,</span> <span class="n">pixelSizetc</span><span class="p">)</span></div>

<div class="viewcode-block" id="ControlConfigPanel.onChooseLib"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ControlConfigPanel.onChooseLib">[docs]</a>    <span class="k">def</span> <span class="nf">onChooseLib</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">sofile</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">getFileToLoad</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ext</span><span class="o">=</span><span class="s1">&#39;so&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">libcaPathtc</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">sofile</span><span class="p">)</span></div>

<div class="viewcode-block" id="ControlConfigPanel.onCheckAuto"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ControlConfigPanel.onCheckAuto">[docs]</a>    <span class="k">def</span> <span class="nf">onCheckAuto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">IsChecked</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">caAddrListst</span><span class="o">.</span><span class="n">Disable</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">caAddrListtc</span><span class="o">.</span><span class="n">Disable</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">caAddrListst</span><span class="o">.</span><span class="n">Enable</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">caAddrListtc</span><span class="o">.</span><span class="n">Enable</span><span class="p">()</span></div>

<div class="viewcode-block" id="ControlConfigPanel.onUpdateParams1"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ControlConfigPanel.onUpdateParams1">[docs]</a>    <span class="k">def</span> <span class="nf">onUpdateParams1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="n">newval</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">newval</span><span class="p">))</span></div>

<div class="viewcode-block" id="ControlConfigPanel.onUpdateParams2"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ControlConfigPanel.onUpdateParams2">[docs]</a>    <span class="k">def</span> <span class="nf">onUpdateParams2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">float</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">dial</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">MessageDialog</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">u&quot;Error, please input a positive number!&quot;</span><span class="p">,</span>
                <span class="n">caption</span><span class="o">=</span><span class="s2">u&quot;Input Error&quot;</span><span class="p">,</span>
                <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">OK</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">CANCEL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ICON_ERROR</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">CENTRE</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dial</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_OK</span><span class="p">:</span>
                <span class="n">obj</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="n">dial</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="HistPlotConfigPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.HistPlotConfigPanel">[docs]</a><span class="k">class</span> <span class="nc">HistPlotConfigPanel</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>

<div class="viewcode-block" id="HistPlotConfigPanel.initUI"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.HistPlotConfigPanel.initUI">[docs]</a>    <span class="k">def</span> <span class="nf">initUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initConfig</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createPanel</span><span class="p">()</span></div>

<div class="viewcode-block" id="HistPlotConfigPanel.initConfig"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.HistPlotConfigPanel.initConfig">[docs]</a>    <span class="k">def</span> <span class="nf">initConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bkgdcolor</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BLUE</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontcolor</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BLACK</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontptsize</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontweight</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span></div>

<div class="viewcode-block" id="HistPlotConfigPanel.createPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.HistPlotConfigPanel.createPanel">[docs]</a>    <span class="k">def</span> <span class="nf">createPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">vboxsizer</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="c1"># height ratio</span>
        <span class="n">heightratiost</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                      <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Height Ratio&#39;</span><span class="p">,</span>
                                      <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">heightratiotc</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">FloatSpin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                          <span class="n">value</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thisapp</span><span class="o">.</span><span class="n">heightRatio</span><span class="p">),</span>
                                          <span class="n">min_val</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                                          <span class="n">max_val</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>
                                          <span class="n">increment</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
                                          <span class="n">digits</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                          <span class="n">style</span><span class="o">=</span><span class="n">fs</span><span class="o">.</span><span class="n">FS_LEFT</span><span class="p">)</span>

        <span class="n">gshist</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">GridBagSizer</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">gshist</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">heightratiost</span><span class="p">,</span>
                   <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                   <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                   <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                   <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gshist</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">heightratiotc</span><span class="p">,</span>
                   <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                   <span class="n">span</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                   <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span>
                   <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">,</span>
                   <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">gshist</span><span class="o">.</span><span class="n">AddGrowableCol</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">vboxsizer</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">gshist</span><span class="p">,</span>
                      <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span>
                      <span class="n">border</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

        <span class="n">vboxsizer</span><span class="o">.</span><span class="n">Add</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="c1">## set boxsizer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetSizer</span><span class="p">(</span><span class="n">vboxsizer</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="ShowIntPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ShowIntPanel">[docs]</a><span class="k">class</span> <span class="nc">ShowIntPanel</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">DEFAULT_FRAME_STYLE</span> <span class="o">&amp;</span>
            <span class="o">~</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">RESIZE_BORDER</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">MAXIMIZE_BOX</span><span class="p">),</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InitUI</span><span class="p">()</span>

<div class="viewcode-block" id="ShowIntPanel.InitUI"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ShowIntPanel.InitUI">[docs]</a>    <span class="k">def</span> <span class="nf">InitUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createMenu</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createPanel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createStatusbar</span><span class="p">()</span></div>

<div class="viewcode-block" id="ShowIntPanel.createMenu"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ShowIntPanel.createMenu">[docs]</a>    <span class="k">def</span> <span class="nf">createMenu</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="ShowIntPanel.createStatusbar"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ShowIntPanel.createStatusbar">[docs]</a>    <span class="k">def</span> <span class="nf">createStatusbar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="ShowIntPanel.createPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ShowIntPanel.createPanel">[docs]</a>    <span class="k">def</span> <span class="nf">createPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">panel</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="o">.</span><span class="n">SetBackgroundColour</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">bkgdcolor</span><span class="p">)</span>

        <span class="n">vbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="n">sbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                            <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span>
                            <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Intensity Monitor&#39;</span><span class="p">,</span>
                            <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="n">sbfont</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">SystemSettings_GetFont</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">SYS_SYSTEM_FONT</span><span class="p">)</span>
        <span class="n">sbfont</span><span class="o">.</span><span class="n">SetPointSize</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
        <span class="n">sbfont</span><span class="o">.</span><span class="n">SetWeight</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span><span class="p">)</span>
        <span class="n">sbfontcolor</span> <span class="o">=</span> <span class="s1">&#39;GREY&#39;</span>
        <span class="n">sbox</span><span class="o">.</span><span class="n">SetFont</span><span class="p">(</span><span class="n">sbfont</span><span class="p">)</span>
        <span class="n">sbox</span><span class="o">.</span><span class="n">SetForegroundColour</span><span class="p">(</span><span class="n">sbfontcolor</span><span class="p">)</span>
        <span class="n">sbsizer</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticBoxSizer</span><span class="p">(</span><span class="n">sbox</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">intdisp</span> <span class="o">=</span> <span class="n">ImagePanelxy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span>
                                    <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
                                    <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span>
                                    <span class="n">bgcolor</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">bkgdcolor</span><span class="p">)</span>
        <span class="n">sbsizer</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">intdisp</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="c1">#### btns</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">daqbtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Start&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">savebtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Save&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onTimerControl</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">daqbtn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onSaveFigure</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">savebtn</span><span class="p">)</span>
        <span class="n">hboxbtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">hboxbtn</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">daqbtn</span><span class="p">,</span>
                    <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span>
                    <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">hboxbtn</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">savebtn</span><span class="p">,</span>
                    <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span>
                    <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">sbsizer</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">hboxbtn</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">sbsizer</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="o">.</span><span class="n">SetSizer</span><span class="p">(</span><span class="n">vbox</span><span class="p">)</span>
        <span class="n">osizer</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">osizer</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetSizerAndFit</span><span class="p">(</span><span class="n">osizer</span><span class="p">)</span>

        <span class="c1">## timer for update plotting curve</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_TIMER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onUpdate</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="p">)</span></div>

<div class="viewcode-block" id="ShowIntPanel.onTimerControl"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ShowIntPanel.onTimerControl">[docs]</a>    <span class="k">def</span> <span class="nf">onTimerControl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">label</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">GetLabel</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">IsRunning</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">Stop</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">daqbtn</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="s1">&#39;Start&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">Start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">timer_msec</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">daqbtn</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="s1">&#39;Stop&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="ShowIntPanel.onSaveFigure"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ShowIntPanel.onSaveFigure">[docs]</a>    <span class="k">def</span> <span class="nf">onSaveFigure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">save_path_str</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;mkdir -p&#39;</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">save_path_str</span><span class="p">)</span>
        <span class="n">filelabel</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%H%m%S&#39;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">())</span>
        <span class="n">savetofilename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">save_path_str</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">save_int_name_str</span> <span class="o">+</span> <span class="n">filelabel</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">save_int_ext_str</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intdisp</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">savetofilename</span><span class="p">)</span></div>

<div class="viewcode-block" id="ShowIntPanel.onUpdate"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ShowIntPanel.onUpdate">[docs]</a>    <span class="k">def</span> <span class="nf">onUpdate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cnt</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">inten_val</span><span class="o">.</span><span class="n">GetLabel</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intdisp</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intdisp</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intdisp</span><span class="o">.</span><span class="n">xyplot</span><span class="o">.</span><span class="n">set_marker</span><span class="p">(</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intdisp</span><span class="o">.</span><span class="n">xyplot</span><span class="o">.</span><span class="n">set_markersize</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intdisp</span><span class="o">.</span><span class="n">xyplot</span><span class="o">.</span><span class="n">set_markerfacecolor</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intdisp</span><span class="o">.</span><span class="n">xyplot</span><span class="o">.</span><span class="n">set_markeredgecolor</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intdisp</span><span class="o">.</span><span class="n">xyplot</span><span class="o">.</span><span class="n">set_linestyle</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intdisp</span><span class="o">.</span><span class="n">xyplot</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intdisp</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="ImagePanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel">[docs]</a><span class="k">class</span> <span class="nc">ImagePanel</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">parent</span><span class="p">,</span>
                 <span class="n">figsize</span><span class="p">,</span>
                 <span class="n">dpi</span><span class="p">,</span>
                 <span class="n">bgcolor</span><span class="p">,</span>
                 <span class="n">heightratio</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span>
                 <span class="n">func</span><span class="o">=</span><span class="s1">&#39;peaks&#39;</span><span class="p">,</span>
                 <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1">#super(self.__class__, self).__init__(parent = parent, **kwargs)</span>
        <span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figsize</span> <span class="o">=</span> <span class="n">figsize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span> <span class="o">=</span> <span class="n">dpi</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bgcolor</span> <span class="o">=</span> <span class="n">bgcolor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hratio</span> <span class="o">=</span> <span class="n">heightratio</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">func</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">figsize</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">FigureCanvasWxAgg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmaptype</span> <span class="o">=</span> <span class="s1">&#39;jet&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bgcolor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">onGetData</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">onConfigPlot</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">doPlot</span><span class="p">()</span>
        <span class="n">wx</span><span class="o">.</span><span class="n">CallAfter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fitCanvas</span><span class="p">)</span>  <span class="c1"># fit canvas size after initialization</span>

        <span class="c1"># resize figure when size event trigged</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_SIZE</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onSize</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s1">&#39;button_press_event&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onPress</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s1">&#39;button_release_event&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onRelease</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s1">&#39;motion_notify_event&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onMotion</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mkc1</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Colour</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">GetAsString</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">C2S_HTML_SYNTAX</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mkc2</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Colour</span><span class="p">(</span><span class="mi">240</span><span class="p">,</span> <span class="mi">230</span><span class="p">,</span> <span class="mi">140</span><span class="p">)</span><span class="o">.</span><span class="n">GetAsString</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">C2S_HTML_SYNTAX</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pcc</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Colour</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">GetAsString</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">C2S_HTML_SYNTAX</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mk1</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mk2</span> <span class="o">=</span> <span class="kc">False</span>

<div class="viewcode-block" id="ImagePanel.onConfigPlot"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.onConfigPlot">[docs]</a>    <span class="k">def</span> <span class="nf">onConfigPlot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="ImagePanel.onRelease"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.onRelease">[docs]</a>    <span class="k">def</span> <span class="nf">onRelease</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">pass</span></div>
        <span class="c1">#print(&quot;%d,%d&quot; % (event.xdata, event.ydata))</span>

<div class="viewcode-block" id="ImagePanel.onMotion"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.onMotion">[docs]</a>    <span class="k">def</span> <span class="nf">onMotion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">inaxes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">GetParent</span><span class="p">()</span><span class="o">.</span><span class="n">pos_val</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="s2">&quot;(</span><span class="si">%.4f</span><span class="s2">,</span><span class="si">%.4f</span><span class="s2">)&quot;</span> <span class="o">%</span>
                                                     <span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">xdata</span><span class="p">,</span>
                                                      <span class="n">event</span><span class="o">.</span><span class="n">ydata</span><span class="p">))</span></div>

<div class="viewcode-block" id="ImagePanel.setHratio"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.setHratio">[docs]</a>    <span class="k">def</span> <span class="nf">setHratio</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hratio</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hratio</span> <span class="o">=</span> <span class="n">hratio</span></div>

<div class="viewcode-block" id="ImagePanel.setColor"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.setColor">[docs]</a>    <span class="k">def</span> <span class="nf">setColor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rgbtuple</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set figure and canvas colours to be the same.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">rgbtuple</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">rgbtuple</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">SystemSettings</span><span class="o">.</span><span class="n">GetColour</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">SYS_COLOUR_BTNFACE</span><span class="p">)</span><span class="o">.</span><span class="n">Get</span><span class="p">()</span>
        <span class="n">clr</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="o">/</span> <span class="mf">255.</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">rgbtuple</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="n">clr</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">set_edgecolor</span><span class="p">(</span><span class="n">clr</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">SetBackgroundColour</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Colour</span><span class="p">(</span><span class="o">*</span><span class="n">rgbtuple</span><span class="p">))</span></div>

<div class="viewcode-block" id="ImagePanel.refresh"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.refresh">[docs]</a>    <span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImagePanel.repaint"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.repaint">[docs]</a>    <span class="k">def</span> <span class="nf">repaint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">onSetHist</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImagePanel.onSetcm"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.onSetcm">[docs]</a>    <span class="k">def</span> <span class="nf">onSetcm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmap</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmaptype</span> <span class="o">=</span> <span class="n">cmap</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">im</span><span class="o">.</span><span class="n">set_cmap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmaptype</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">im</span><span class="o">.</span><span class="n">set_array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImagePanel.onSetHist"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.onSetHist">[docs]</a>    <span class="k">def</span> <span class="nf">onSetHist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">histx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">histy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">idxmaxx</span><span class="p">,</span> <span class="n">idxmaxy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">histx</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">histx</span><span class="o">.</span><span class="n">max</span><span class="p">()),</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">histy</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">histy</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maxidx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxidy</span> <span class="o">=</span> <span class="n">idxmaxx</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">idxmaxy</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">histx</span><span class="o">.</span><span class="n">size</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">yy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">histy</span><span class="o">.</span><span class="n">size</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linex</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xx</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linex</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">histx</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">histx</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxidy</span> <span class="o">*</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">hratio</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">liney</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">histy</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">histy</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxidx</span> <span class="o">*</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">hratio</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">liney</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yy</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xyscalar</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">xx</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">xx</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">yy</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">yy</span><span class="o">.</span><span class="n">max</span><span class="p">()]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">im</span><span class="o">.</span><span class="n">set_extent</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xyscalar</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xyscalar</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xyscalar</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span></div>

<div class="viewcode-block" id="ImagePanel.onSetCr"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.onSetCr">[docs]</a>    <span class="k">def</span> <span class="nf">onSetCr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crange</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">im</span><span class="o">.</span><span class="n">set_clim</span><span class="p">(</span><span class="n">crange</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImagePanel.doPlot"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.doPlot">[docs]</a>    <span class="k">def</span> <span class="nf">doPlot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;axes&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">axes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linex</span><span class="p">,</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">histx</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">histx</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">*</span>
                                     <span class="bp">self</span><span class="o">.</span><span class="n">maxidy</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">hratio</span><span class="p">,</span> <span class="s1">&#39;w--&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">liney</span><span class="p">,</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">histy</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">histy</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">*</span>
                                     <span class="bp">self</span><span class="o">.</span><span class="n">maxidx</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">hratio</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">yy</span><span class="p">,</span> <span class="s1">&#39;w--&#39;</span><span class="p">)</span>

        <span class="c1">#self.axes.set_title(r&#39;$f(x,y)=\sin x + \cos y$&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">im</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">,</span>
                                   <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;equal&#39;</span><span class="p">,</span>
                                   <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmaptype</span><span class="p">),</span>
                                   <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower left&#39;</span><span class="p">,</span>
                                   <span class="n">vmin</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cmin</span><span class="p">,</span>
                                   <span class="n">vmax</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cmax</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">im</span><span class="o">.</span><span class="n">set_extent</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xyscalar</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linex</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">liney</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xyscalar</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xyscalar</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImagePanel.onGetData"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.onGetData">[docs]</a>    <span class="k">def</span> <span class="nf">onGetData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">==</span> <span class="s1">&#39;peaks&#39;</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">func_peaks</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">==</span> <span class="s1">&#39;sinc&#39;</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">func_sinc</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">histx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">histy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">histx</span><span class="o">.</span><span class="n">size</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">yy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">histy</span><span class="o">.</span><span class="n">size</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">idxmaxx</span><span class="p">,</span> <span class="n">idxmaxy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">histx</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">histx</span><span class="o">.</span><span class="n">max</span><span class="p">()),</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">histy</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">histy</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maxidx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxidy</span> <span class="o">=</span> <span class="n">idxmaxx</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">idxmaxy</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xyscalar</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">xx</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">xx</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">yy</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">yy</span><span class="o">.</span><span class="n">max</span><span class="p">()]</span></div>

<div class="viewcode-block" id="ImagePanel.fitCanvas"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.fitCanvas">[docs]</a>    <span class="k">def</span> <span class="nf">fitCanvas</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">SetSize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetSize</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">set_tight_layout</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span>
            <span class="n">top</span><span class="o">=</span><span class="mf">0.9999</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span>
            <span class="n">left</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9999</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImagePanel.onSize"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.onSize">[docs]</a>    <span class="k">def</span> <span class="nf">onSize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">SetSize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetSize</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">set_tight_layout</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span>
            <span class="n">top</span><span class="o">=</span><span class="mf">0.9999</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span>
            <span class="n">left</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9999</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImagePanel.onPress"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.onPress">[docs]</a>    <span class="k">def</span> <span class="nf">onPress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">inaxes</span><span class="p">:</span>
            <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">xdata</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">ydata</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">draw_hvlines</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImagePanel.set_markflags"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.set_markflags">[docs]</a>    <span class="k">def</span> <span class="nf">set_markflags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mk1</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">mk2</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mk1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mk2</span> <span class="o">=</span> <span class="n">mk1</span><span class="p">,</span> <span class="n">mk2</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mk1</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_draw_hvlines1</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x_pos1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_pos1</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">mk2</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_draw_hvlines2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x_pos2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_pos2</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">return</span></div>

<div class="viewcode-block" id="ImagePanel.set_mkc1"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.set_mkc1">[docs]</a>    <span class="k">def</span> <span class="nf">set_mkc1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mkc1</span> <span class="o">=</span> <span class="n">color</span></div>

<div class="viewcode-block" id="ImagePanel.set_mkc2"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.set_mkc2">[docs]</a>    <span class="k">def</span> <span class="nf">set_mkc2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mkc2</span> <span class="o">=</span> <span class="n">color</span></div>

<div class="viewcode-block" id="ImagePanel.set_pcc"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.set_pcc">[docs]</a>    <span class="k">def</span> <span class="nf">set_pcc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pcc</span> <span class="o">=</span> <span class="n">color</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;pc1&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pc1</span><span class="o">.</span><span class="n">set_mec</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pc1</span><span class="o">.</span><span class="n">set_mfc</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;pc2&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pc2</span><span class="o">.</span><span class="n">set_mec</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pc2</span><span class="o">.</span><span class="n">set_mfc</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;plbl1&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plbl1</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;plbl2&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plbl2</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImagePanel.draw_hvlines"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.draw_hvlines">[docs]</a>    <span class="k">def</span> <span class="nf">draw_hvlines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mk1</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_draw_hvlines1</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">mk2</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_draw_hvlines2</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_deltxy</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">_draw_hvlines1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;plbl1&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plbl1</span><span class="o">.</span><span class="n">set_position</span><span class="p">((</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plbl1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="s1">r&#39;$\mathsf</span><span class="si">{M1}</span><span class="s1">$&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plbl1</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pcc</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;hl1&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hl1</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">([</span><span class="n">y0</span><span class="p">,</span> <span class="n">y0</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hl1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y0</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hl1</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mkc1</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;vl1&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vl1</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">([</span><span class="n">x0</span><span class="p">,</span> <span class="n">x0</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vl1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vl1</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mkc1</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;pc1&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pc1</span><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pc1</span><span class="p">,</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="s1">&#39;ko&#39;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">mfc</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">mec</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pc1</span><span class="o">.</span><span class="n">set_mec</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pcc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pc1</span><span class="o">.</span><span class="n">set_mfc</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pcc</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">x_pos1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_pos1</span> <span class="o">=</span> <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">GetParent</span><span class="p">()</span><span class="o">.</span><span class="n">m1_pos_st</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{0:.1f}</span><span class="s1">,</span><span class="si">{1:.1f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_draw_hvlines2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;plbl2&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plbl2</span><span class="o">.</span><span class="n">set_position</span><span class="p">((</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plbl2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="s1">r&#39;$\mathsf</span><span class="si">{M2}</span><span class="s1">$&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plbl2</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pcc</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;hl2&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hl2</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">([</span><span class="n">y0</span><span class="p">,</span> <span class="n">y0</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hl2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hl2</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mkc2</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;vl2&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vl2</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">([</span><span class="n">x0</span><span class="p">,</span> <span class="n">x0</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vl2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vl2</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mkc2</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;pc2&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pc2</span><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pc2</span><span class="p">,</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="s1">&#39;ko&#39;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">mfc</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">mec</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pc2</span><span class="o">.</span><span class="n">set_mec</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pcc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pc2</span><span class="o">.</span><span class="n">set_mfc</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pcc</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">x_pos2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_pos2</span> <span class="o">=</span> <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">GetParent</span><span class="p">()</span><span class="o">.</span><span class="n">m2_pos_st</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{0:.1f}</span><span class="s1">,</span><span class="si">{1:.1f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>

<div class="viewcode-block" id="ImagePanel.update_deltxy"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanel.update_deltxy">[docs]</a>    <span class="k">def</span> <span class="nf">update_deltxy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">GetParent</span><span class="p">()</span><span class="o">.</span><span class="n">pixelSize</span>
        <span class="n">m1_pos_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">GetParent</span><span class="p">()</span><span class="o">.</span><span class="n">m1_pos_st</span><span class="o">.</span><span class="n">GetLabel</span><span class="p">()</span>
        <span class="n">m2_pos_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">GetParent</span><span class="p">()</span><span class="o">.</span><span class="n">m2_pos_st</span><span class="o">.</span><span class="n">GetLabel</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">m1_pos_val</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="n">m2_pos_val</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">m1_pos_val</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>
            <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">m2_pos_val</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>
            <span class="n">dx</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x1</span> <span class="o">-</span> <span class="n">x2</span><span class="p">)</span>
            <span class="n">dy</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">y1</span> <span class="o">-</span> <span class="n">y2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">GetParent</span><span class="p">()</span><span class="o">.</span><span class="n">delx_val_st</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0:.1f}</span><span class="s2">|</span><span class="si">{1:.1f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span><span class="n">dx</span><span class="o">*</span><span class="n">ps</span><span class="p">)</span> <span class="o">+</span> <span class="s1">u&#39;</span><span class="se">\N{GREEK SMALL LETTER MU}</span><span class="s1">m&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">GetParent</span><span class="p">()</span><span class="o">.</span><span class="n">dely_val_st</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0:.1f}</span><span class="s2">|</span><span class="si">{1:.1f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dy</span><span class="p">,</span><span class="n">dy</span><span class="o">*</span><span class="n">ps</span><span class="p">)</span> <span class="o">+</span> <span class="s1">u&#39;</span><span class="se">\N{GREEK SMALL LETTER MU}</span><span class="s1">m&#39;</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="FitPlotFrame"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.FitPlotFrame">[docs]</a><span class="k">class</span> <span class="nc">FitPlotFrame</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">model_x</span><span class="p">,</span> <span class="n">model_y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span>
                                             <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">DEFAULT_FRAME_STYLE</span><span class="p">,</span>
                                             <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_model_x</span> <span class="o">=</span> <span class="n">model_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_model_y</span> <span class="o">=</span> <span class="n">model_y</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_font</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">font</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fontsize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">fontptsize_normal</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">vbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="n">hbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">hbox_l</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">hbox_r</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">panel</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">plotpanel</span> <span class="o">=</span> <span class="n">FitPlotPanel</span><span class="p">(</span><span class="n">panel</span><span class="p">,</span>
                                 <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
                                 <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span>
                                 <span class="n">bgcolor</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">bkgdcolor</span><span class="p">,</span>
                                 <span class="n">fitmodel_x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_model_x</span><span class="p">,</span>
                                 <span class="n">fitmodel_y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_model_y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plotpanel</span> <span class="o">=</span> <span class="n">plotpanel</span>

        <span class="c1"># left hbox, x,y ranges</span>
        <span class="n">auto_scale_ckb</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyCheckBox</span><span class="p">(</span><span class="n">panel</span><span class="p">,</span>
                                             <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Auto&#39;</span><span class="p">,</span>
                                             <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_font</span><span class="p">,</span>
                                             <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_fontsize</span><span class="p">)</span>

        <span class="n">x1range_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="n">panel</span><span class="p">,</span>
                                           <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;X1&#39;</span><span class="p">,</span>
                                           <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">,</span>
                                           <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_font</span><span class="p">,</span>
                                           <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_fontsize</span><span class="p">,</span>
                                           <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
        <span class="n">x2range_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="n">panel</span><span class="p">,</span>
                                           <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;X2&#39;</span><span class="p">,</span>
                                           <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">,</span>
                                           <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_font</span><span class="p">,</span>
                                           <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_fontsize</span><span class="p">,</span>
                                           <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
        <span class="n">y1range_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="n">panel</span><span class="p">,</span>
                                           <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Y1&#39;</span><span class="p">,</span>
                                           <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">,</span>
                                           <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_font</span><span class="p">,</span>
                                           <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_fontsize</span><span class="p">,</span>
                                           <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
        <span class="n">y2range_st</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyStaticText</span><span class="p">(</span><span class="n">panel</span><span class="p">,</span>
                                           <span class="n">label</span><span class="o">=</span><span class="s1">u&#39;Y2&#39;</span><span class="p">,</span>
                                           <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">,</span>
                                           <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_font</span><span class="p">,</span>
                                           <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_fontsize</span><span class="p">,</span>
                                           <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
        <span class="n">x1range_tc</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyTextCtrl</span><span class="p">(</span><span class="n">panel</span><span class="p">,</span>
                                         <span class="n">name</span><span class="o">=</span><span class="s1">&#39;x1&#39;</span><span class="p">,</span>
                                         <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                                         <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_PROCESS_ENTER</span><span class="p">,</span>
                                         <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_font</span><span class="p">,</span>
                                         <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_fontsize</span><span class="p">)</span>
        <span class="n">x2range_tc</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyTextCtrl</span><span class="p">(</span><span class="n">panel</span><span class="p">,</span>
                                         <span class="n">name</span><span class="o">=</span><span class="s1">&#39;x2&#39;</span><span class="p">,</span>
                                         <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                                         <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_PROCESS_ENTER</span><span class="p">,</span>
                                         <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_font</span><span class="p">,</span>
                                         <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_fontsize</span><span class="p">)</span>
        <span class="n">y1range_tc</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyTextCtrl</span><span class="p">(</span><span class="n">panel</span><span class="p">,</span>
                                         <span class="n">name</span><span class="o">=</span><span class="s1">&#39;y1&#39;</span><span class="p">,</span>
                                         <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                                         <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_PROCESS_ENTER</span><span class="p">,</span>
                                         <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_font</span><span class="p">,</span>
                                         <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_fontsize</span><span class="p">)</span>
        <span class="n">y2range_tc</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyTextCtrl</span><span class="p">(</span><span class="n">panel</span><span class="p">,</span>
                                         <span class="n">name</span><span class="o">=</span><span class="s1">&#39;y2&#39;</span><span class="p">,</span>
                                         <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                                         <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_PROCESS_ENTER</span><span class="p">,</span>
                                         <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_font</span><span class="p">,</span>
                                         <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_fontsize</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x1range_st</span> <span class="o">=</span> <span class="n">x1range_st</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x2range_st</span> <span class="o">=</span> <span class="n">x2range_st</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x1range_tc</span> <span class="o">=</span> <span class="n">x1range_tc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x2range_tc</span> <span class="o">=</span> <span class="n">x2range_tc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y1range_st</span> <span class="o">=</span> <span class="n">y1range_st</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y2range_st</span> <span class="o">=</span> <span class="n">y2range_st</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y1range_tc</span> <span class="o">=</span> <span class="n">y1range_tc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y2range_tc</span> <span class="o">=</span> <span class="n">y2range_tc</span>
        <span class="c1"># set tc values</span>
        <span class="n">x1range</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotpanel</span><span class="o">.</span><span class="n">ax1</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()</span>
        <span class="n">x2range</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotpanel</span><span class="o">.</span><span class="n">ax2</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()</span>
        <span class="n">y1range</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotpanel</span><span class="o">.</span><span class="n">ax1</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()</span>
        <span class="n">y2range</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotpanel</span><span class="o">.</span><span class="n">ax2</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()</span>
        <span class="n">x1range_tc</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0:.1f}</span><span class="s2">:</span><span class="si">{1:.1f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x1range</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">x1range</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="n">x2range_tc</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0:.1f}</span><span class="s2">:</span><span class="si">{1:.1f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x2range</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">x2range</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="n">y1range_tc</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0:.1f}</span><span class="s2">:</span><span class="si">{1:.1f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">y1range</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">y1range</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="n">y2range_tc</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0:.1f}</span><span class="s2">:</span><span class="si">{1:.1f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">y2range</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">y2range</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>

        <span class="c1"># right hbox, control buttons</span>
        <span class="n">export_btn</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyButton</span><span class="p">(</span><span class="n">panel</span><span class="p">,</span>
                                       <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&amp;Export&#39;</span><span class="p">,</span>
                                       <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                       <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">)</span>
        <span class="n">exit_btn</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyButton</span><span class="p">(</span><span class="n">panel</span><span class="p">,</span>
                                     <span class="n">label</span><span class="o">=</span><span class="s1">&#39;E&amp;xit&#39;</span><span class="p">,</span>
                                     <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">font</span><span class="p">,</span>
                                     <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">fontptsize_normal</span><span class="p">)</span>

        <span class="c1">#</span>
        <span class="n">hbox_l</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">x1range_st</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">hbox_l</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">x1range_tc</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">hbox_l</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">y1range_st</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">hbox_l</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">y1range_tc</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">hbox_l</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">x2range_st</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">hbox_l</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">x2range_tc</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">hbox_l</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">y2range_st</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">hbox_l</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">y2range_tc</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">hbox_l</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">auto_scale_ckb</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

        <span class="n">hbox_r</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">export_btn</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">hbox_r</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">exit_btn</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">hbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">hbox_l</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span><span class="p">)</span>
        <span class="n">hbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">hbox_r</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span><span class="p">)</span>

        <span class="c1">#</span>
        <span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">plotpanel</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span>
            <span class="n">wx</span><span class="o">.</span><span class="n">StaticLine</span><span class="p">(</span><span class="n">panel</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">LI_HORIZONTAL</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span>
            <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">hbox</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

        <span class="n">panel</span><span class="o">.</span><span class="n">SetSizer</span><span class="p">(</span><span class="n">vbox</span><span class="p">)</span>

        <span class="c1"># events</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onExit</span><span class="p">,</span> <span class="n">exit_btn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onExport</span><span class="p">,</span> <span class="n">export_btn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_TEXT_ENTER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onSetRange</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_CHECKBOX</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onAutoScale</span><span class="p">,</span> <span class="n">auto_scale_ckb</span><span class="p">)</span>

<div class="viewcode-block" id="FitPlotFrame.onAutoScale"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.FitPlotFrame.onAutoScale">[docs]</a>    <span class="k">def</span> <span class="nf">onAutoScale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">IsChecked</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plotpanel</span><span class="o">.</span><span class="n">ax1</span><span class="o">.</span><span class="n">autoscale</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plotpanel</span><span class="o">.</span><span class="n">ax2</span><span class="o">.</span><span class="n">autoscale</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plotpanel</span><span class="o">.</span><span class="n">refresh_draw</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x1range_st</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x1range_tc</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y1range_st</span><span class="p">,</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">y1range_tc</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x2range_st</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x2range_tc</span><span class="p">,</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">y2range_st</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y2range_tc</span><span class="p">):</span>
                <span class="n">obj</span><span class="o">.</span><span class="n">Disable</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x1range_tc</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y1range_tc</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x2range_tc</span><span class="p">,</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">y2range_tc</span><span class="p">):</span>
                <span class="n">obj</span><span class="o">.</span><span class="n">Enable</span><span class="p">()</span>
                <span class="n">range_list</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">obj</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_datalim</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">GetName</span><span class="p">(),</span> <span class="n">range_list</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x1range_st</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y1range_st</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x2range_st</span><span class="p">,</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">y2range_st</span><span class="p">):</span>
                <span class="n">obj</span><span class="o">.</span><span class="n">Enable</span><span class="p">()</span></div>

<div class="viewcode-block" id="FitPlotFrame.set_datalim"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.FitPlotFrame.set_datalim">[docs]</a>    <span class="k">def</span> <span class="nf">set_datalim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="n">range_list</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">nid</span> <span class="o">==</span> <span class="s1">&#39;x1&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plotpanel</span><span class="o">.</span><span class="n">ax1</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">range_list</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">nid</span> <span class="o">==</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plotpanel</span><span class="o">.</span><span class="n">ax1</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">range_list</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">nid</span> <span class="o">==</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plotpanel</span><span class="o">.</span><span class="n">ax2</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">range_list</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">nid</span> <span class="o">==</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plotpanel</span><span class="o">.</span><span class="n">ax2</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">range_list</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plotpanel</span><span class="o">.</span><span class="n">refresh_draw</span><span class="p">()</span></div>

<div class="viewcode-block" id="FitPlotFrame.onExit"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.FitPlotFrame.onExit">[docs]</a>    <span class="k">def</span> <span class="nf">onExit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Close</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="FitPlotFrame.onExport"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.FitPlotFrame.onExport">[docs]</a>    <span class="k">def</span> <span class="nf">onExport</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">data_raw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotpanel</span><span class="o">.</span><span class="n">data_raw</span>
        <span class="n">data_fit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotpanel</span><span class="o">.</span><span class="n">data_fit</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">save_path_str</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;mkdir -p&#39;</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">save_path_str</span><span class="p">)</span>
        <span class="n">filelabel</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%H%M%S&#39;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">())</span>
        <span class="n">savetofilename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">save_path_str</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="s1">&#39;fitdata&#39;</span> <span class="o">+</span> <span class="n">filelabel</span> <span class="o">+</span> <span class="s1">&#39;.hdf5&#39;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">funutils</span><span class="o">.</span><span class="n">ExportData</span><span class="p">(</span><span class="n">data_raw</span><span class="p">,</span> <span class="n">data_fit</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_y</span><span class="p">,</span> <span class="n">savetofilename</span><span class="p">)</span>
            <span class="n">dial</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">MessageDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                    <span class="n">message</span><span class="o">=</span><span class="s2">u&quot;Data saved into &quot;</span> <span class="o">+</span> <span class="n">savetofilename</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span>
                                    <span class="n">caption</span><span class="o">=</span><span class="s2">u&quot;Successfully Saved Data&quot;</span><span class="p">,</span>
                                    <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">OK</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ICON_WARNING</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">CENTRE</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dial</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_OK</span><span class="p">:</span>
                <span class="n">dial</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">dial</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">MessageDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                    <span class="n">message</span><span class="o">=</span><span class="s2">u&quot;Data cannot saved into &quot;</span> <span class="o">+</span> <span class="n">savetofilename</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span>
                                    <span class="n">caption</span><span class="o">=</span><span class="s2">u&quot;Saved Data Failure&quot;</span><span class="p">,</span>
                                    <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">OK</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ICON_WARNING</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">CENTRE</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dial</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_OK</span><span class="p">:</span>
                <span class="n">dial</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="FitPlotFrame.onSetRange"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.FitPlotFrame.onSetRange">[docs]</a>    <span class="k">def</span> <span class="nf">onSetRange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span>
        <span class="n">nid</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">GetName</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">range_list</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">obj</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)]</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">dial</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">MessageDialog</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Invalid data range, format required: &#39;min:max&#39;.&quot;</span><span class="p">,</span>
                <span class="n">caption</span><span class="o">=</span><span class="s2">&quot;Input ERROR&quot;</span><span class="p">,</span>
                <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">OK</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">CENTRE</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ICON_ERROR</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dial</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_OK</span><span class="p">:</span>
                <span class="n">obj</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
                <span class="n">dial</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">range_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">dial</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">MessageDialog</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Full range should have two numbers, format required: &#39;min:max&#39;.&quot;</span><span class="p">,</span>
                <span class="n">caption</span><span class="o">=</span><span class="s2">&quot;Input ERROR&quot;</span><span class="p">,</span>
                <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">OK</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">CENTRE</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ICON_ERROR</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dial</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_OK</span><span class="p">:</span>
                <span class="n">obj</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
                <span class="n">dial</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">range_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">range_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">dial</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">MessageDialog</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Invalid range, format required: &#39;min:max&#39;, min&lt;max.&quot;</span><span class="p">,</span>
                <span class="n">caption</span><span class="o">=</span><span class="s2">&quot;Input Warning&quot;</span><span class="p">,</span>
                <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">OK</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">CENTRE</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ICON_INFORMATION</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dial</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_OK</span><span class="p">:</span>
                <span class="n">dial</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_datalim</span><span class="p">(</span><span class="n">nid</span><span class="p">,</span> <span class="n">range_list</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="ChooseROIFrame"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ChooseROIFrame">[docs]</a><span class="k">class</span> <span class="nc">ChooseROIFrame</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">imgsrcptn</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span>
                                             <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span>
                                             <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">DEFAULT_FRAME_STYLE</span><span class="p">,</span>
                                             <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1">#style = wx.DEFAULT_FRAME_STYLE &amp; ~(wx.RESIZE_BORDER | wx.MAXIMIZE_BOX), **kwargs)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span> <span class="o">=</span> <span class="n">imgsrcptn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InitUI</span><span class="p">()</span>

<div class="viewcode-block" id="ChooseROIFrame.InitUI"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ChooseROIFrame.InitUI">[docs]</a>    <span class="k">def</span> <span class="nf">InitUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createMenu</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createStatusbar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createPanel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imgpanel</span><span class="p">)</span></div>

<div class="viewcode-block" id="ChooseROIFrame.createMenu"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ChooseROIFrame.createMenu">[docs]</a>    <span class="k">def</span> <span class="nf">createMenu</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="ChooseROIFrame.createStatusbar"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ChooseROIFrame.createStatusbar">[docs]</a>    <span class="k">def</span> <span class="nf">createStatusbar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="ChooseROIFrame.createPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ChooseROIFrame.createPanel">[docs]</a>    <span class="k">def</span> <span class="nf">createPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">imgsrcptn</span><span class="p">):</span>
        <span class="n">vbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">roiPanel</span> <span class="o">=</span> <span class="n">ChooseROIPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">roiPanel</span><span class="o">.</span><span class="n">doPlot</span><span class="p">(</span><span class="n">imgsrcptn</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cancelbtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Cancel&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">okbtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;OK&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onCancel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cancelbtn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onGetROI</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">okbtn</span><span class="p">)</span>

        <span class="n">hboxbtn</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">hboxbtn</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cancelbtn</span><span class="p">,</span> <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span><span class="p">)</span>
        <span class="n">hboxbtn</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">okbtn</span><span class="p">,</span>
                    <span class="n">proportion</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span>
                    <span class="n">border</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

        <span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">roiPanel</span><span class="p">,</span>
                 <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                 <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span>
                 <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">hboxbtn</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetSizerAndFit</span><span class="p">(</span><span class="n">vbox</span><span class="p">)</span>

        <span class="c1"># get and draw ROI box</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_pressed</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">patch</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y0</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y1</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">roiPanel</span><span class="o">.</span><span class="n">figure</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">roiPanel</span><span class="o">.</span><span class="n">canvas</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">roiPanel</span><span class="o">.</span><span class="n">axes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s1">&#39;button_press_event&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onPress</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s1">&#39;button_release_event&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onRelease</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s1">&#39;motion_notify_event&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onMotion</span><span class="p">)</span></div>

<div class="viewcode-block" id="ChooseROIFrame.onCancel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ChooseROIFrame.onCancel">[docs]</a>    <span class="k">def</span> <span class="nf">onCancel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Close</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="ChooseROIFrame.onGetROI"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ChooseROIFrame.onGetROI">[docs]</a>    <span class="k">def</span> <span class="nf">onGetROI</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">roixy</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">([</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y0</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y1</span><span class="p">)])</span> <span class="o">+</span> <span class="nb">sorted</span><span class="p">(</span>
                <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x0</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x1</span><span class="p">)])</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="n">dial</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">MessageDialog</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">u&quot;Please simply drag a box on image to get ROI, then click OK.&quot;</span><span class="p">,</span>
                <span class="n">caption</span><span class="o">=</span><span class="s2">u&quot;Fetch ROI Warning&quot;</span><span class="p">,</span>
                <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">OK</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ICON_QUESTION</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">CENTRE</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dial</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_OK</span><span class="p">:</span>
                <span class="n">dial</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span>
                <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Close</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="ChooseROIFrame.onPress"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ChooseROIFrame.onPress">[docs]</a>    <span class="k">def</span> <span class="nf">onPress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_pressed</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x0</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">xdata</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y0</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">ydata</span></div>

<div class="viewcode-block" id="ChooseROIFrame.onRelease"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ChooseROIFrame.onRelease">[docs]</a>    <span class="k">def</span> <span class="nf">onRelease</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_pressed</span> <span class="o">=</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="ChooseROIFrame.onMotion"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ChooseROIFrame.onMotion">[docs]</a>    <span class="k">def</span> <span class="nf">onMotion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_pressed</span> <span class="ow">and</span> <span class="n">event</span><span class="o">.</span><span class="n">inaxes</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x1</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">xdata</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y1</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">ydata</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">x1</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">x0</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">y1</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">y0</span><span class="p">:</span> <span class="k">return</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y0</span><span class="p">),</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">x1</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">x0</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">y1</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">y0</span><span class="p">,</span>
                <span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span>
                <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span>
                <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">inspatch</span><span class="p">)</span> <span class="k">for</span> <span class="n">inspatch</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">patch</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">patch</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">patch</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="ChooseROIPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ChooseROIPanel">[docs]</a><span class="k">class</span> <span class="nc">ChooseROIPanel</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">figsize</span><span class="p">,</span> <span class="n">dpi</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figsize</span> <span class="o">=</span> <span class="n">figsize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span> <span class="o">=</span> <span class="n">dpi</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">figsize</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">FigureCanvasWxAgg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_SIZE</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onSize</span><span class="p">)</span>

<div class="viewcode-block" id="ChooseROIPanel.doPlot"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ChooseROIPanel.doPlot">[docs]</a>    <span class="k">def</span> <span class="nf">doPlot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">imgsrcptn</span><span class="p">):</span>
        <span class="c1">## imgsrcptn: object reference for image, from which ROI would be got</span>
        <span class="c1"># set background color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">imgsrcptn</span><span class="o">.</span><span class="n">bgcolor</span><span class="p">)</span>

        <span class="c1"># set image</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;axes&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">axes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">im</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">imgsrcptn</span><span class="o">.</span><span class="n">z</span><span class="p">,</span>
                                   <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;equal&#39;</span><span class="p">,</span>
                                   <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="n">imgsrcptn</span><span class="o">.</span><span class="n">cmaptype</span><span class="p">),</span>
                                   <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower left&#39;</span><span class="p">,</span>
                                   <span class="n">vmin</span><span class="o">=</span><span class="n">imgsrcptn</span><span class="o">.</span><span class="n">cmin</span><span class="p">,</span>
                                   <span class="n">vmax</span><span class="o">=</span><span class="n">imgsrcptn</span><span class="o">.</span><span class="n">cmax</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">im</span><span class="o">.</span><span class="n">set_extent</span><span class="p">(</span><span class="n">imgsrcptn</span><span class="o">.</span><span class="n">xyscalar</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span></div>

<div class="viewcode-block" id="ChooseROIPanel.onSize"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ChooseROIPanel.onSize">[docs]</a>    <span class="k">def</span> <span class="nf">onSize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">SetSize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetSize</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">set_tight_layout</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span>
            <span class="n">top</span><span class="o">=</span><span class="mf">0.9999</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span>
            <span class="n">left</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9999</span><span class="p">)</span></div>

<div class="viewcode-block" id="ChooseROIPanel.setColor"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ChooseROIPanel.setColor">[docs]</a>    <span class="k">def</span> <span class="nf">setColor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rgbtuple</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set figure and canvas colours to be the same.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">rgbtuple</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">rgbtuple</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">SystemSettings</span><span class="o">.</span><span class="n">GetColour</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">SYS_COLOUR_BTNFACE</span><span class="p">)</span><span class="o">.</span><span class="n">Get</span><span class="p">()</span>
        <span class="n">clr</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="o">/</span> <span class="mf">255.</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">rgbtuple</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="n">clr</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">set_edgecolor</span><span class="p">(</span><span class="n">clr</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">SetBackgroundColour</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Colour</span><span class="p">(</span><span class="o">*</span><span class="n">rgbtuple</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="ImagePanelxy"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanelxy">[docs]</a><span class="k">class</span> <span class="nc">ImagePanelxy</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">figsize</span><span class="p">,</span> <span class="n">dpi</span><span class="p">,</span> <span class="n">bgcolor</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1">#super(self.__class__, self).__init__(parent = parent, **kwargs)</span>
        <span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figsize</span> <span class="o">=</span> <span class="n">figsize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span> <span class="o">=</span> <span class="n">dpi</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bgcolor</span> <span class="o">=</span> <span class="n">bgcolor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">figsize</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">FigureCanvasWxAgg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bgcolor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">onGetData</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">onConfigPlot</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">doPlot</span><span class="p">()</span>
        <span class="n">wx</span><span class="o">.</span><span class="n">CallAfter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fitCanvas</span><span class="p">)</span>  <span class="c1"># fit canvas size after initialization</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_SIZE</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onSize</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s1">&#39;button_press_event&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onPress</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s1">&#39;button_release_event&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onRelease</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s1">&#39;motion_notify_event&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onMotion</span><span class="p">)</span>

<div class="viewcode-block" id="ImagePanelxy.onConfigPlot"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanelxy.onConfigPlot">[docs]</a>    <span class="k">def</span> <span class="nf">onConfigPlot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="ImagePanelxy.onUpdatePlot"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanelxy.onUpdatePlot">[docs]</a>    <span class="k">def</span> <span class="nf">onUpdatePlot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="ImagePanelxy.onPress"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanelxy.onPress">[docs]</a>    <span class="k">def</span> <span class="nf">onPress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="ImagePanelxy.onRelease"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanelxy.onRelease">[docs]</a>    <span class="k">def</span> <span class="nf">onRelease</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="ImagePanelxy.onMotion"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanelxy.onMotion">[docs]</a>    <span class="k">def</span> <span class="nf">onMotion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">pass</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        try:</span>
<span class="sd">            self.parent.GetParent().pos_val.SetLabel(&quot;(%.4f,%.4f)&quot; % (event.xdata, event.ydata))</span>
<span class="sd">        except TypeError:</span>
<span class="sd">            pass</span>
<span class="sd">        &quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="ImagePanelxy.setColor"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanelxy.setColor">[docs]</a>    <span class="k">def</span> <span class="nf">setColor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rgbtuple</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set figure and canvas colours to be the same.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">rgbtuple</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">rgbtuple</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">SystemSettings</span><span class="o">.</span><span class="n">GetColour</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">SYS_COLOUR_BTNFACE</span><span class="p">)</span><span class="o">.</span><span class="n">Get</span><span class="p">()</span>
        <span class="n">clr</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="o">/</span> <span class="mf">255.</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">rgbtuple</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="n">clr</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">set_edgecolor</span><span class="p">(</span><span class="n">clr</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">SetBackgroundColour</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Colour</span><span class="p">(</span><span class="o">*</span><span class="n">rgbtuple</span><span class="p">))</span></div>

<div class="viewcode-block" id="ImagePanelxy.repaint"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanelxy.repaint">[docs]</a>    <span class="k">def</span> <span class="nf">repaint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xyplot</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xyplot</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImagePanelxy.doPlot"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanelxy.doPlot">[docs]</a>    <span class="k">def</span> <span class="nf">doPlot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;axes&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">axes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xyplot</span><span class="p">,</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImagePanelxy.onGetData"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanelxy.onGetData">[docs]</a>    <span class="k">def</span> <span class="nf">onGetData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1">#x = np.linspace(-np.pi, np.pi, 100)</span>
        <span class="c1">#y = np.sin(x)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">y</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span></div>

<div class="viewcode-block" id="ImagePanelxy.fitCanvas"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanelxy.fitCanvas">[docs]</a>    <span class="k">def</span> <span class="nf">fitCanvas</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">SetSize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetSize</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">set_tight_layout</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span>
            <span class="n">top</span><span class="o">=</span><span class="mf">0.9999</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span>
            <span class="n">left</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9999</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImagePanelxy.onSize"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImagePanelxy.onSize">[docs]</a>    <span class="k">def</span> <span class="nf">onSize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">SetSize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetSize</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">set_tight_layout</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span>
            <span class="n">top</span><span class="o">=</span><span class="mf">0.9999</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span>
            <span class="n">left</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9999</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="FitPlotPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.FitPlotPanel">[docs]</a><span class="k">class</span> <span class="nc">FitPlotPanel</span><span class="p">(</span><span class="n">ImagePanelxy</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">figsize</span><span class="p">,</span> <span class="n">dpi</span><span class="p">,</span> <span class="n">bgcolor</span><span class="p">,</span> <span class="n">fitmodel_x</span><span class="p">,</span> <span class="n">fitmodel_y</span><span class="p">,</span>
                 <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fitmodel_x</span> <span class="o">=</span> <span class="n">fitmodel_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fitmodel_y</span> <span class="o">=</span> <span class="n">fitmodel_y</span>
        <span class="n">ImagePanelxy</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">figsize</span><span class="p">,</span> <span class="n">dpi</span><span class="p">,</span> <span class="n">bgcolor</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="FitPlotPanel.update_fit_modules"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.FitPlotPanel.update_fit_modules">[docs]</a>    <span class="k">def</span> <span class="nf">update_fit_modules</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_fitmodel_x</span><span class="p">,</span> <span class="n">new_fitmodel_y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fitmodel_x</span> <span class="o">=</span> <span class="n">new_fitmodel_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fitmodel_y</span> <span class="o">=</span> <span class="n">new_fitmodel_y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">onGetData</span><span class="p">()</span></div>

<div class="viewcode-block" id="FitPlotPanel.update_figure"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.FitPlotPanel.update_figure">[docs]</a>    <span class="k">def</span> <span class="nf">update_figure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linex_raw</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_raw</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linex_raw</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_raw</span><span class="p">[</span><span class="s1">&#39;xdata&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linex_fit</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_fit</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linex_fit</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_fit</span><span class="p">[</span><span class="s1">&#39;xdata&#39;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">liney_raw</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_raw</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">liney_raw</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_raw</span><span class="p">[</span><span class="s1">&#39;ydata&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">liney_fit</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_fit</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">liney_fit</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_fit</span><span class="p">[</span><span class="s1">&#39;ydata&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span></div>

<div class="viewcode-block" id="FitPlotPanel.onGetData"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.FitPlotPanel.onGetData">[docs]</a>    <span class="k">def</span> <span class="nf">onGetData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">x_raw</span><span class="p">,</span> <span class="n">xdata_raw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fitmodel_x</span><span class="o">.</span><span class="n">get_data</span><span class="p">()</span>
        <span class="n">y_raw</span><span class="p">,</span> <span class="n">ydata_raw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fitmodel_y</span><span class="o">.</span><span class="n">get_data</span><span class="p">()</span>

        <span class="n">x_fit</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">x_raw</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">x_raw</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">200</span><span class="p">)</span>
        <span class="n">y_fit</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">y_raw</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">y_raw</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">200</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_x_fit</span> <span class="o">=</span> <span class="n">x_fit</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_y_fit</span> <span class="o">=</span> <span class="n">y_fit</span>

        <span class="n">fit_res_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fitmodel_x</span><span class="o">.</span><span class="n">get_fit_result</span><span class="p">()</span>
        <span class="n">fit_res_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fitmodel_y</span><span class="o">.</span><span class="n">get_fit_result</span><span class="p">()</span>

        <span class="n">fx</span><span class="p">,</span> <span class="n">tx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fitmodel_x</span><span class="o">.</span><span class="n">get_fitfunc</span><span class="p">(</span><span class="n">fit_res_x</span><span class="o">.</span><span class="n">params</span><span class="p">)</span>
        <span class="n">fy</span><span class="p">,</span> <span class="n">ty</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fitmodel_y</span><span class="o">.</span><span class="n">get_fitfunc</span><span class="p">(</span><span class="n">fit_res_y</span><span class="o">.</span><span class="n">params</span><span class="p">)</span>

        <span class="n">xdata_fit</span><span class="p">,</span> <span class="n">ydata_fit</span> <span class="o">=</span> <span class="n">fx</span><span class="p">(</span><span class="n">fit_res_x</span><span class="o">.</span><span class="n">params</span><span class="p">,</span> <span class="n">x_fit</span><span class="p">),</span> <span class="n">fy</span><span class="p">(</span>
            <span class="n">fit_res_y</span><span class="o">.</span><span class="n">params</span><span class="p">,</span> <span class="n">y_fit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_raw</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">x_raw</span><span class="p">,</span>
                         <span class="s1">&#39;xdata&#39;</span><span class="p">:</span> <span class="n">xdata_raw</span><span class="p">,</span>
                         <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">y_raw</span><span class="p">,</span>
                         <span class="s1">&#39;ydata&#39;</span><span class="p">:</span> <span class="n">ydata_raw</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_fit</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">x_fit</span><span class="p">,</span>
                         <span class="s1">&#39;xdata&#39;</span><span class="p">:</span> <span class="n">xdata_fit</span><span class="p">,</span>
                         <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">y_fit</span><span class="p">,</span>
                         <span class="s1">&#39;ydata&#39;</span><span class="p">:</span> <span class="n">ydata_fit</span><span class="p">}</span></div>

<div class="viewcode-block" id="FitPlotPanel.repaint"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.FitPlotPanel.repaint">[docs]</a>    <span class="k">def</span> <span class="nf">repaint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_fitmodel_x</span><span class="p">,</span> <span class="n">new_fitmodel_y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_fit_modules</span><span class="p">(</span><span class="n">new_fitmodel_x</span><span class="p">,</span> <span class="n">new_fitmodel_y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_figure</span><span class="p">()</span></div>

<div class="viewcode-block" id="FitPlotPanel.refresh_draw"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.FitPlotPanel.refresh_draw">[docs]</a>    <span class="k">def</span> <span class="nf">refresh_draw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span></div>

<div class="viewcode-block" id="FitPlotPanel.doPlot"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.FitPlotPanel.doPlot">[docs]</a>    <span class="k">def</span> <span class="nf">doPlot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;ax1&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;ax2&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linex_raw</span><span class="p">,</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_raw</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span>
                                        <span class="bp">self</span><span class="o">.</span><span class="n">data_raw</span><span class="p">[</span><span class="s1">&#39;xdata&#39;</span><span class="p">],</span>
                                        <span class="s1">&#39;o&#39;</span><span class="p">,</span>
                                        <span class="n">mec</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span>
                                        <span class="n">mfc</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span>
                                        <span class="n">ms</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linex_fit</span><span class="p">,</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_fit</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span>
                                        <span class="bp">self</span><span class="o">.</span><span class="n">data_fit</span><span class="p">[</span><span class="s1">&#39;xdata&#39;</span><span class="p">],</span>
                                        <span class="s1">&#39;r--&#39;</span><span class="p">,</span>
                                        <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">liney_raw</span><span class="p">,</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_raw</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">],</span>
                                        <span class="bp">self</span><span class="o">.</span><span class="n">data_raw</span><span class="p">[</span><span class="s1">&#39;ydata&#39;</span><span class="p">],</span>
                                        <span class="s1">&#39;o&#39;</span><span class="p">,</span>
                                        <span class="n">mec</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span>
                                        <span class="n">mfc</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span>
                                        <span class="n">ms</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">liney_fit</span><span class="p">,</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_fit</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">],</span>
                                        <span class="bp">self</span><span class="o">.</span><span class="n">data_fit</span><span class="p">[</span><span class="s1">&#39;ydata&#39;</span><span class="p">],</span>
                                        <span class="s1">&#39;b--&#39;</span><span class="p">,</span>
                                        <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;$\mathrm</span><span class="si">{Profile}</span><span class="s1">\,x$&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;$\mathrm</span><span class="si">{Profile}</span><span class="s1">\,y$&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ax1</span><span class="o">.</span><span class="n">autoscale</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax2</span><span class="o">.</span><span class="n">autoscale</span><span class="p">()</span>
        <span class="c1">#self.ax1.set_aspect(&#39;auto&#39;,&#39;datalim&#39;)</span>
        <span class="c1">#self.ax2.set_aspect(&#39;auto&#39;,&#39;datalim&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="ImageColorMap"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageColorMap">[docs]</a><span class="k">class</span> <span class="nc">ImageColorMap</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">figsize</span><span class="p">,</span> <span class="n">dpi</span><span class="p">,</span> <span class="n">bgcolor</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figsize</span> <span class="o">=</span> <span class="n">figsize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span> <span class="o">=</span> <span class="n">dpi</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bgcolor</span> <span class="o">=</span> <span class="n">bgcolor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmin</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmax</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">figsize</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">FigureCanvasWxAgg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmaptype</span> <span class="o">=</span> <span class="s1">&#39;jet&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bgcolor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">onGetData</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">doPlot</span><span class="p">()</span>
        <span class="n">wx</span><span class="o">.</span><span class="n">CallAfter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fitCanvas</span><span class="p">)</span>

        <span class="c1"># resize figure when size event trigged</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_SIZE</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">onSize</span><span class="p">)</span>

<div class="viewcode-block" id="ImageColorMap.setColor"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageColorMap.setColor">[docs]</a>    <span class="k">def</span> <span class="nf">setColor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rgbtuple</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set figure and canvas colours to be the same.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">rgbtuple</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">rgbtuple</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">SystemSettings</span><span class="o">.</span><span class="n">GetColour</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">SYS_COLOUR_BTNFACE</span><span class="p">)</span><span class="o">.</span><span class="n">Get</span><span class="p">()</span>
        <span class="n">clr</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="o">/</span> <span class="mf">255.</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">rgbtuple</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="n">clr</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">set_edgecolor</span><span class="p">(</span><span class="n">clr</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">SetBackgroundColour</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Colour</span><span class="p">(</span><span class="o">*</span><span class="n">rgbtuple</span><span class="p">))</span></div>

<div class="viewcode-block" id="ImageColorMap.repaint"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageColorMap.repaint">[docs]</a>    <span class="k">def</span> <span class="nf">repaint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImageColorMap.onSetCr"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageColorMap.onSetCr">[docs]</a>    <span class="k">def</span> <span class="nf">onSetCr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crange</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">im</span><span class="o">.</span><span class="n">set_clim</span><span class="p">(</span><span class="n">crange</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImageColorMap.onSetcm"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageColorMap.onSetcm">[docs]</a>    <span class="k">def</span> <span class="nf">onSetcm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmap</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmaptype</span> <span class="o">=</span> <span class="n">cmap</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">im</span><span class="o">.</span><span class="n">set_cmap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmaptype</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImageColorMap.doPlot"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageColorMap.doPlot">[docs]</a>    <span class="k">def</span> <span class="nf">doPlot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;axes&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">axes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">im</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">,</span>
                                   <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmaptype</span><span class="p">),</span>
                                   <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower left&#39;</span><span class="p">,</span>
                                   <span class="n">vmin</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cmin</span><span class="p">,</span>
                                   <span class="n">vmax</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cmax</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span></div>

<div class="viewcode-block" id="ImageColorMap.onGetData"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageColorMap.onGetData">[docs]</a>    <span class="k">def</span> <span class="nf">onGetData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">g</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmin</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmax</span><span class="p">,</span> <span class="mi">80</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">g</span><span class="p">,</span> <span class="n">g</span><span class="p">))</span></div>

<div class="viewcode-block" id="ImageColorMap.fitCanvas"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageColorMap.fitCanvas">[docs]</a>    <span class="k">def</span> <span class="nf">fitCanvas</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">SetSize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetSize</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">set_tight_layout</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span>
            <span class="n">top</span><span class="o">=</span><span class="mf">0.9999</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span>
            <span class="n">left</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9999</span><span class="p">)</span></div>

<div class="viewcode-block" id="ImageColorMap.onSize"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.ImageColorMap.onSize">[docs]</a>    <span class="k">def</span> <span class="nf">onSize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">SetSize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetSize</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">set_tight_layout</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span>
            <span class="n">top</span><span class="o">=</span><span class="mf">0.9999</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span>
            <span class="n">left</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9999</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="DebugPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.DebugPanel">[docs]</a><span class="k">class</span> <span class="nc">DebugPanel</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span>
                                             <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span>
                                             <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">DEFAULT_FRAME_STYLE</span><span class="p">,</span>
                                             <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1">#style = wx.DEFAULT_FRAME_STYLE &amp; ~(wx.RESIZE_BORDER | wx.MAXIMIZE_BOX), **kwargs)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InitUI</span><span class="p">()</span>

<div class="viewcode-block" id="DebugPanel.InitUI"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.DebugPanel.InitUI">[docs]</a>    <span class="k">def</span> <span class="nf">InitUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createPanel</span><span class="p">()</span></div>

<div class="viewcode-block" id="DebugPanel.createPanel"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.DebugPanel.createPanel">[docs]</a>    <span class="k">def</span> <span class="nf">createPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">panel</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">envs</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span>
        <span class="n">tcfont</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Font</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span>
                         <span class="n">wx</span><span class="o">.</span><span class="n">FONTFAMILY_MODERN</span><span class="p">,</span>
                         <span class="n">wx</span><span class="o">.</span><span class="n">FONTSTYLE_NORMAL</span><span class="p">,</span>
                         <span class="n">wx</span><span class="o">.</span><span class="n">FONTWEIGHT_NORMAL</span><span class="p">,</span>
                         <span class="n">faceName</span><span class="o">=</span><span class="s2">&quot;Monospace&quot;</span><span class="p">)</span>
        <span class="n">tc</span> <span class="o">=</span> <span class="n">funutils</span><span class="o">.</span><span class="n">MyTextCtrl</span><span class="p">(</span><span class="n">panel</span><span class="p">,</span>
                                 <span class="n">value</span><span class="o">=</span><span class="s1">u&#39;&#39;</span><span class="p">,</span>
                                 <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TE_READONLY</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TE_MULTILINE</span><span class="p">,</span>
                                 <span class="n">font</span><span class="o">=</span><span class="n">tcfont</span><span class="p">)</span>
        <span class="n">tc</span><span class="o">.</span><span class="n">AppendText</span><span class="p">(</span><span class="s2">&quot;DEBUG INFORMATION:&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">envs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">tc</span><span class="o">.</span><span class="n">AppendText</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{k:&gt;30s}</span><span class="s2">: </span><span class="si">{v:&lt;10s}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="n">v</span><span class="p">))</span>
        <span class="n">vbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">tc</span><span class="p">,</span> <span class="n">proportion</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">panel</span><span class="o">.</span><span class="n">SetSizer</span><span class="p">(</span><span class="n">vbox</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="main"><a class="viewcode-back" href="../../../src/apidocs/felapps.utils.html#felapps.utils.pltutils.main">[docs]</a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">App</span><span class="p">(</span><span class="n">redirect</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">myframe</span> <span class="o">=</span> <span class="n">ImageViewer</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span>
                          <span class="n">title</span><span class="o">=</span><span class="s1">&#39;ImageViewer --- Another Profile Monitor&#39;</span><span class="p">)</span>
    <span class="n">myframe</span><span class="o">.</span><span class="n">Show</span><span class="p">()</span>
    <span class="n">app</span><span class="o">.</span><span class="n">MainLoop</span><span class="p">()</span></div>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">felapps 1.5.13 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Tong Zhang.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.5.
    </div>
  </body>
</html>